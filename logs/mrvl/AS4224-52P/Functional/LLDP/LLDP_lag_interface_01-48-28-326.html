<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>LLDP_lag_interface_01-48-28-326486 Log</title>
<!-- Latest compiled and minified CSS -->
<!--
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs-3.3.7/jq-3.2.1/jq-3.2.1/dt-1.10.16/datatables.min.css"/>

<script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jq-3.2.1/jq-3.2.1/dt-1.10.16/datatables.min.js"></script>
-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
  
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
<style>
pre {
margin : 0;
white-space: pre-wrap;
background-color: inherit;
border: none;
border-radius: inherit;
}
</style>
</head>

<body>
<div class="col-md-12 col-xs-12 col-lg-12">
<br>
<h1 style="text-align:center">LLDP_lag_interface_01-48-28-326486 Log</h1>
<br>
<div class="input-group">
    <select class="form-control" id="min-severity" placeholder="Min Severity">
    </select>
    <span class="input-group-addon">-</span>
    <select class="form-control" id="max-severity" placeholder="Max Severity">
    </select>
</div>
&nbsp
<table id="data_table" class="table table-striped table-bordered" cellspacing="0">
<thead>
    <tr>
        <th style="width: 180px;">Time</th>
        <th style="width: 90px;">Log Level</th>
        <th>Message</th>
    </tr>
</thead>
<tbody>

<tr class="success">
<td>2021-09-03 01:48:28,327</td>
<td>TRACE</td>
<td><pre>BaseTest_SD::_BasicTestInit: this test has been launched with the following input arguments:
Namespace(conn_table=None, dummy_test=False, excel_path='/swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_23.xlsx', excel_setups_db_path=None, seed=None, setup_info=None, setup_name=None, stress=None, test_args=None)</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:28,327</td>
<td>TRACE</td>
<td><pre>BaseTest_SD::_BasicTestInit: this test is running from the following Setup Excel file /swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_23.xlsx</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:28,328</td>
<td>TRACE</td>
<td><pre>
+-------------------------------------------------------+
|                    TG Mapping Table                   |
+----+------------+------------+------+------+----------+
| ID | IP Address |  TG Type   | Card | Port | Dut Port |
+----+------------+------------+------+------+----------+
| 1  | 10.5.236.4 | ixia_linux |  11  |  5   |  sw1p1   |
| 2  | 10.5.236.4 | ixia_linux |  11  |  6   |  sw1p23  |
| 3  | 10.5.236.4 | ixia_linux |  11  |  7   |  sw1p35  |
| 4  | 10.5.236.4 | ixia_linux |  11  |  8   |  sw1p48  |
+----+------------+------------+------+------+----------+</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:28,328</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: connecting to IxiaSSH on IP 10.5.236.4 using TCL/API Server IP 10.5.236.4</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:36,090</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect:  Connection Successful</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:36,476</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: Found Ixia Phy Mode settings. Configure ports to PORT_PROPERTIES_MEDIA_TYPE.COPPER</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:38,637</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: Found Ixia Phy Mode settings. Configure ports to PORT_PROPERTIES_MEDIA_TYPE.COPPER</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:40,588</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: Found Ixia Phy Mode settings. Configure ports to PORT_PROPERTIES_MEDIA_TYPE.COPPER</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:42,717</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: Found Ixia Phy Mode settings. Configure ports to PORT_PROPERTIES_MEDIA_TYPE.COPPER</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:45,865</td>
<td>INFO</td>
<td><pre>Used cached DutInfo: dutmainchannel__/swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_23.xlsx__1620569885.7663186</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:45,866</td>
<td>TRACE</td>
<td><pre>SwitchDevDutManager::login: Connecting to 10.5.236.85:root:22 ...</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:45,980</td>
<td>TRACE</td>
<td><pre>SwitchDevDutManager::login: Connection Successful</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:45,980</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "

"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:46,082</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: Linux localhost 5.10.4 #1 SMP PREEMPT Tue Aug 31 15:40:33 UTC 2021 aarch64
Last login: Fri Sep  3 01:46:34 2021 from 10.5.116.193


root@localhost:~# 
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:47,083</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "

"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:47,184</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:47,562</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_clear_dmesg: </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:47,663</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  echo "" &#62 /var/log/messages
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:47,763</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   echo "" &#62 /var/log/messages
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:47,764</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_clear_cmd_history: </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:47,864</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  history -c
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:47,965</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   history -c
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:47,966</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::stressCpus: </pre></td>
</tr>


<tr>
<td width="100"></td>
<td width="100"></td>
<td class="info"><pre>+------------------------------------------------------------------------------------------------------------------------------------------+
|                                                             Test Description                                                             |
+------------+--------------------+------------------------------------------------------------------+-----------+-------------------------+
| Suite Name | Test Name          | Purpose                                                          | Author    | Test Document Reference |
+------------+--------------------+------------------------------------------------------------------+-----------+-------------------------+
| LLDP       | LLDP_lag_interface | This test comes to verify:                                       | David Meu |                         |
|            |                    |             * LLDP receive\trasmitte packet slaved lag interface |           |                         |
|            |                    |                                                                  |           |                         |
+------------+--------------------+------------------------------------------------------------------+-----------+-------------------------+

+------------------------------------------------------------------+
|                          Test Procedure                          |
+------+-----------------------------------------------------------+
| Step | Step Description                                          |
+------+-----------------------------------------------------------+
| 1    | Init interfaces swp1p sw1p13 sw1p25 sw1p37                |
+------+-----------------------------------------------------------+
| 2    | Creating lag interface bond1                              |
+------+-----------------------------------------------------------+
| 3    | Configure sw1p1 port down in order to enslave in to bond1 |
+------+-----------------------------------------------------------+
| 4    | Enslaving sw1p1 to lag interface bond1                    |
+------+-----------------------------------------------------------+
| 5    | Set port sw1p1 bond1 up                                   |
+------+-----------------------------------------------------------+
| 6    | Start lldp service                                        |
+------+-----------------------------------------------------------+
| 7    | Configure tx-interval to 2 sec                            |
+------+-----------------------------------------------------------+
| 8    | Configure Bond Slave value to real                        |
+------+-----------------------------------------------------------+
| 9    | Filter lldp packet for sw1p1                              |
+------+-----------------------------------------------------------+
| 10   | Enable lldp for sw1p1 rx-and-tx                           |
+------+-----------------------------------------------------------+
| 11   | Setup LLDP packet for trasmitting to sw1p1                |
+------+-----------------------------------------------------------+
| 12   | Transmitting LLDP packet to sw1p1                         |
+------+-----------------------------------------------------------+
| 13   | Verifying LLDP packet received for sw1p1                  |
+------+-----------------------------------------------------------+
| 14   | Clear all ports counters                                  |
+------+-----------------------------------------------------------+
| 15   | Verifying lldp packet captured for sw1p1                  |
+------+-----------------------------------------------------------+</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:47,972</td>
<td>INFO</td>
<td><pre>Executing step 1: Init interfaces swp1p sw1p13 sw1p25 sw1p37</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:47,972</td>
<td>INFO</td>
<td><pre>Executing step 2: Creating lag interface bond1</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:48,073</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link add name bond1 type bond mode 802.3ad
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:48,174</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link add name bond1 type bond mode 802.3ad
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:48,275</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link show type bond bond1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:48,375</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link show type bond bond1
76: bond1: &#60BROADCAST,MULTICAST,MASTER&#62 mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 72:6a:ad:98:06:86 brd ff:ff:ff:ff:ff:ff
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:48,476</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "echo $?
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:48,577</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: echo $?
0
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:48,577</td>
<td>INFO</td>
<td><pre>Executing step 3: Configure sw1p1 port down in order to enslave in to bond1</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:48,678</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p1 down
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:48,778</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p1 down
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:48,779</td>
<td>INFO</td>
<td><pre>Executing step 4: Enslaving sw1p1 to lag interface bond1</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:48,880</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set sw1p1 master bond1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:48,980</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set sw1p1 master bond1
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:48,981</td>
<td>INFO</td>
<td><pre>Executing step 5: Set port sw1p1 bond1 up</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:49,082</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p1 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:49,183</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p1 up
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:49,283</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev bond1 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:49,384</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev bond1 up
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:49,384</td>
<td>INFO</td>
<td><pre>Executing step 6: Start lldp service</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:49,485</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "lldpd -cefs
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:49,586</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: lldpd -cefs
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:54,592</td>
<td>INFO</td>
<td><pre>Executing step 7: Configure tx-interval to 2 sec</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:54,694</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "lldpcli configure lldp tx-interval 2
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:54,795</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: lldpcli configure lldp tx-interval 2

root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:54,795</td>
<td>INFO</td>
<td><pre>Executing step 8: Configure Bond Slave value to real</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:54,895</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "lldpcli configure system bond-slave-src-mac-type real
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:54,996</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: lldpcli configure system bond-slave-src-mac-type real

root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:54,996</td>
<td>INFO</td>
<td><pre>Executing step 9: Filter lldp packet for sw1p1</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:55,097</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "cat /sys/class/net/sw1p1/address
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:55,198</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: cat /sys/class/net/sw1p1/address
34:ef:b6:85:42:05
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:55,996</td>
<td>INFO</td>
<td><pre>Executing step 10: Enable lldp for sw1p1 rx-and-tx</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:56,098</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "lldpcli configure ports sw1p1 lldp status rx-and-tx
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:48:56,199</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: lldpcli configure ports sw1p1 lldp status rx-and-tx

root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:48:59,203</td>
<td>INFO</td>
<td><pre>Executing step 11: Setup LLDP packet for trasmitting to sw1p1</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:49:02,618</td>
<td>INFO</td>
<td><pre>Executing step 12: Transmitting LLDP packet to sw1p1</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:02,619</td>
<td>DEBUG</td>
<td><pre>LLDP_api::transmitTraffic: Transmitting traffic</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:49:05,863</td>
<td>INFO</td>
<td><pre>Executing step 13: Verifying LLDP packet received for sw1p1</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:05,964</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "lldpcli show neighbors ports sw1p1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:06,066</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: lldpcli show neighbors ports sw1p1
-------------------------------------------------------------------------------
LLDP neighbors:
-------------------------------------------------------------------------------
Interface:    sw1p1, via: LLDP, RID: 1, Time: 0 day, 00:00:00
  Chassis:     
    ChassisID:    mac 00:19:2f:a7:b2:8d
    SysName:      S2.cisco.com
    SysDescr:     Cisco IOS Software, C3560 Software (C3560-ADVIPSERVICESK9-M), Version 12.2(44)SE, RELEASE SOFTWARE (fc1)
                  Copyright (c) 1986-2008 by Cisco Systems, Inc.
                  Compiled Sat 05-Jan-08 00:15 by weiliu
    Capability:   Bridge, on
    Capability:   Router, off
  Port:        
    PortID:       ifalias Uplink to S1
    PortDescr:    GigabitEthernet0/13
    TTL:          120
-------------------------------------------------------------------------------
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:49:06,066</td>
<td>INFO</td>
<td><pre>Executing step 14: Clear all ports counters</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:06,067</td>
<td>DEBUG</td>
<td><pre>LLDP_api::clearAllTGPortsCounters: Clearing all TG ports counters</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:49:11,209</td>
<td>INFO</td>
<td><pre>Executing step 15: Verifying lldp packet captured for sw1p1</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:11,210</td>
<td>DEBUG</td>
<td><pre>LLDP_api::verifyReceivedTrafficIsAsExpected: Verify received traffic on port is as expected</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:24,680</td>
<td>DEBUG</td>
<td><pre>LLDP_api::verifyReceivedTrafficIsAsExpected: Passed! lldp trasmitted packet have been recieved</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:24,681</td>
<td>TRACE</td>
<td><pre>BaseTest::_OnPostTest:  starting to run registered post test functions</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:24,681</td>
<td>TRACE</td>
<td><pre>BaseTest::TestTearDown:  starting to call to cleanup functions of test</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:24,782</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "lldpcli configure lldp tx-interval 30
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:24,882</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: lldpcli configure lldp tx-interval 30

root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:24,983</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "killall lldpd
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,084</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: killall lldpd
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,185</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set sw1p1 nomaster
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,285</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set sw1p1 nomaster
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,386</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p1 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,487</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p1 up
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,588</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link delete bond1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,688</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link delete bond1
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,689</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_parse_dmesg: </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,790</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  history
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,891</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   history
    3  ip link add name bond1 type bond mode 802.3ad
    4  ip link show type bond bond1
    5  echo $?
    6  ip link set dev sw1p1 down
    7  ip link set sw1p1 master bond1
    8  ip link set dev sw1p1 up
    9  ip link set dev bond1 up
   10  lldpd -cefs
   11  lldpcli configure lldp tx-interval 2
   12  lldpcli configure system bond-slave-src-mac-type real
   13  cat /sys/class/net/sw1p1/address
   14  lldpcli configure ports sw1p1 lldp status rx-and-tx
   15  lldpcli show neighbors ports sw1p1
   16  lldpcli configure lldp tx-interval 30
   17  killall lldpd
   18  ip link set sw1p1 nomaster
   19  ip link set dev sw1p1 up
   20  ip link delete bond1
   21    history
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,891</td>
<td>DEBUG</td>
<td><pre>commands history:
    3  ip link add name bond1 type bond mode 802.3ad
    4  ip link show type bond bond1
    5  echo $?
    6  ip link set dev sw1p1 down
    7  ip link set sw1p1 master bond1
    8  ip link set dev sw1p1 up
    9  ip link set dev bond1 up
   10  lldpd -cefs
   11  lldpcli configure lldp tx-interval 2
   12  lldpcli configure system bond-slave-src-mac-type real
   13  cat /sys/class/net/sw1p1/address
   14  lldpcli configure ports sw1p1 lldp status rx-and-tx
   15  lldpcli show neighbors ports sw1p1
   16  lldpcli configure lldp tx-interval 30
   17  killall lldpd
   18  ip link set sw1p1 nomaster
   19  ip link set dev sw1p1 up
   20  ip link delete bond1
   21    history</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:25,891</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_parse_dmesg: </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:26,005</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  cat /var/log/messages
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:26,106</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   cat /var/log/messages

Sep  3 01:48:41 localhost kernel: [  676.904561] bond1: (slave sw1p1): Enslaving as a backup interface with a down link
Sep  3 01:48:41 localhost kernel: [  677.298670] 8021q: adding VLAN 0 to HW filter on device bond1
Sep  3 01:48:44 localhost kernel: [  680.010785] bond1: (slave sw1p1): link status definitely up, 1000 Mbps full duplex
Sep  3 01:48:44 localhost kernel: [  680.018410] bond1: Warning: No 802.3ad response from the link partner for any adapters in the bond
Sep  3 01:48:44 localhost kernel: [  680.027454] bond1: active interface up!
Sep  3 01:48:44 localhost kernel: [  680.031350] IPv6: ADDRCONF(NETDEV_CHANGE): bond1: link becomes ready
Sep  3 01:49:17 localhost kernel: [  713.214762] bond1: (slave sw1p1): Removing an active aggregator
Sep  3 01:49:17 localhost kernel: [  713.220768] bond1: (slave sw1p1): Releasing backup interface
Sep  3 01:49:18 localhost kernel: [  713.602798] bond1 (unregistering): Released all slaves
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:26,106</td>
<td>DEBUG</td>
<td><pre>dmesg lines that matched regex for issues:</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:26,107</td>
<td>DEBUG</td>
<td><pre>{
    "call trace:": {
        found: false,
        regex: "Call trace:",
    },
    "cut here": {
        found: false,
        regex: "\\[ cut here \\]",
    },
    "hw routing offloading disabled:": {
        found: false,
        regex: "Abort. HW routing offloading disabled",
    },
}</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:27,663</td>
<td>TRACE</td>
<td><pre>_TGManager::Cleanup:  clearing ports ownership...</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:28,096</td>
<td>TRACE</td>
<td><pre>_TGManager::Cleanup:  Disconnecting from chassis...</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 01:49:28,122</td>
<td>TRACE</td>
<td><pre>_TGManager::Cleanup:  TG disconnect time is 0.03</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:49:28,123</td>
<td>INFO</td>
<td><pre>Test Passed</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 01:49:28,128</td>
<td>INFO</td>
<td><pre>
CI_META:
{"Software_Version": "2.0.0-v3.0.0-rc4", "Linux_Version": ""}


+----------------------------------------------------------------------------------------------------------------------------------------------------+
|                                                                  Dut Information                                                                   |
+--------+-------------+------+------------------+--------------------------------+---------------+---------------+---------------------+------------+
| ODM    | Board_Model | ASIC | Software_Version | UBOOT_Version                  | Linux_Version | CPU_CoreClock | Host_kernel_version | PCBVersion |
+--------+-------------+------+------------------+--------------------------------+---------------+---------------+---------------------+------------+
| Accton | AS4224-52T  | AC3X | 2.0.0-v3.0.0-rc4 | U-Boot 2019.10-10.0.0-g9518192 |               |               | 5.10.4              | R0A        |
+--------+-------------+------+------------------+--------------------------------+---------------+---------------+---------------------+------------+

None

+---------------------------------------+
|              PDU Settings             |
+----------------+-------------+--------+
| Connect_To_PDU | ip_address  | outlet |
+----------------+-------------+--------+
| True           | 10.5.236.19 | 11     |
+----------------+-------------+--------+

None
+-------------------------------------------------------------------------------------------------+
|                                        Test Steps Summary                                       |
+------+-----------------------------------------------------------+--------+---------------------+
| Step | Description                                               | Result | Run Time            |
+------+-----------------------------------------------------------+--------+---------------------+
| 1    | Init interfaces swp1p sw1p13 sw1p25 sw1p37                | Passed | 0.0                 |
+------+-----------------------------------------------------------+--------+---------------------+
| 2    | Creating lag interface bond1                              | Passed | 0.6050567626953125  |
+------+-----------------------------------------------------------+--------+---------------------+
| 3    | Configure sw1p1 port down in order to enslave in to bond1 | Passed | 0.2019970417022705  |
+------+-----------------------------------------------------------+--------+---------------------+
| 4    | Enslaving sw1p1 to lag interface bond1                    | Passed | 0.20195651054382324 |
+------+-----------------------------------------------------------+--------+---------------------+
| 5    | Set port sw1p1 bond1 up                                   | Passed | 0.40325498580932617 |
+------+-----------------------------------------------------------+--------+---------------------+
| 6    | Start lldp service                                        | Passed | 5.20775294303894    |
+------+-----------------------------------------------------------+--------+---------------------+
| 7    | Configure tx-interval to 2 sec                            | Passed | 0.20304393768310547 |
+------+-----------------------------------------------------------+--------+---------------------+
| 8    | Configure Bond Slave value to real                        | Passed | 0.20152926445007324 |
+------+-----------------------------------------------------------+--------+---------------------+
| 9    | Filter lldp packet for sw1p1                              | Passed | 0.9996135234832764  |
+------+-----------------------------------------------------------+--------+---------------------+
| 10   | Enable lldp for sw1p1 rx-and-tx                           | Passed | 3.2065653800964355  |
+------+-----------------------------------------------------------+--------+---------------------+
| 11   | Setup LLDP packet for trasmitting to sw1p1                | Passed | 3.415597438812256   |
+------+-----------------------------------------------------------+--------+---------------------+
| 12   | Transmitting LLDP packet to sw1p1                         | Passed | 3.2448179721832275  |
+------+-----------------------------------------------------------+--------+---------------------+
| 13   | Verifying LLDP packet received for sw1p1                  | Passed | 0.2033829689025879  |
+------+-----------------------------------------------------------+--------+---------------------+
| 14   | Clear all ports counters                                  | Passed | 5.1430065631866455  |
+------+-----------------------------------------------------------+--------+---------------------+
| 15   | Verifying lldp packet captured for sw1p1                  | Passed | 13.471839666366577  |
+------+-----------------------------------------------------------+--------+---------------------+
+-----------------------------------------------------------------------------------------------+
|                                        Test Information                                       |
+------------+--------------------+--------+-----------------+-----------------+----------------+
| Suite_Name | Test_Name          | Result | start_time      | end_time        | run_time       |
+------------+--------------------+--------+-----------------+-----------------+----------------+
| LLDP       | LLDP_lag_interface | Passed | 01:48:28.324920 | 01:49:28.123112 | 0:00:59.798192 |
+------------+--------------------+--------+-----------------+-----------------+----------------+</pre></td>
</tr>

</tbody></table></div>
</body>
<script>
    $.fn.dataTable.ext.search.push(
        function( settings, data, dataIndex ) {
            let minIndex = severities.indexOf($('#min-severity').find(':selected').text());
            let maxIndex = severities.indexOf($('#max-severity').find(':selected').text());
            var severity = data[1] || 'NOT SET';// use data for the Log Level column
            var severityIndex = severities.indexOf(severity);
            if ( ( maxIndex == -1 && minIndex == -1 ) ||
                 ( minIndex <= severityIndex && severityIndex <= maxIndex ) )
            {
                return true;
            }
            return false;
        }
    );
    
    function fill_select(id, items){
        for(t of items){
            $('#'+id).append(new Option(t, t));
        }
    }
    
    function selectionChanged(selectChanged, selectAffected, selectedOption, startFrom, end){
        let selected = $('#'+selectAffected).find(':selected').text(); //keep affected value
        $('#'+selectAffected).empty(); //empty the affected one

        fill_select(selectAffected, severities.slice(startFrom, end));
        selected = $('#'+selectAffected).find("option:contains('" + selected  + "')").length > 0 ? selected : $("#"+selectAffected+" option:first").val();
        $('#'+selectAffected).val(selected);
    }
    
    var severities = ['NOT SET','TRACE','DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL']
    $(document).ready(function() {
        for(severity of severities){
            $('#min-severity, #max-severity').append(new Option(severity, severity));
        }
        
        $('#max-severity option:last').attr('selected', 'selected');
        
        var table = $('#data_table').DataTable({
            "lengthMenu": [[-1, 10, 25, 50], ["All", 10, 25, 50]]
        });
        
        $('#min-severity, #max-severity').change( function(e) {
            if(e.target.id == 'min-severity'){
                selectionChanged(e.target.id, 'max-severity', e.target.selectedOptions[0].text, severities.indexOf(e.target.selectedOptions[0].text), severities.length+1);
            }
            else if(e.target.id == 'max-severity'){
                selectionChanged(e.target.id, 'min-severity',e.target.selectedOptions[0].text, 0 ,severities.indexOf(e.target.selectedOptions[0].text) + 1);
            }
            table.draw();
        } );
    } );
    
    
</script>
</html>
