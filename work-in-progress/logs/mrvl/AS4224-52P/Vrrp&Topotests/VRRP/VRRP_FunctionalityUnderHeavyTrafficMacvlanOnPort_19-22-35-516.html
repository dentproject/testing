<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>VRRP_FunctionalityUnderHeavyTrafficMacvlanOnPort_19-22-35-516743 Log</title>
<!-- Latest compiled and minified CSS -->
<!--
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs-3.3.7/jq-3.2.1/jq-3.2.1/dt-1.10.16/datatables.min.css"/>

<script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jq-3.2.1/jq-3.2.1/dt-1.10.16/datatables.min.js"></script>
-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
  
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
<style>
pre {
margin : 0;
white-space: pre-wrap;
background-color: inherit;
border: none;
border-radius: inherit;
}
</style>
</head>

<body>
<div class="col-md-12 col-xs-12 col-lg-12">
<br>
<h1 style="text-align:center">VRRP_FunctionalityUnderHeavyTrafficMacvlanOnPort_19-22-35-516743 Log</h1>
<br>
<div class="input-group">
    <select class="form-control" id="min-severity" placeholder="Min Severity">
    </select>
    <span class="input-group-addon">-</span>
    <select class="form-control" id="max-severity" placeholder="Max Severity">
    </select>
</div>
&nbsp
<table id="data_table" class="table table-striped table-bordered" cellspacing="0">
<thead>
    <tr>
        <th style="width: 180px;">Time</th>
        <th style="width: 90px;">Log Level</th>
        <th>Message</th>
    </tr>
</thead>
<tbody>

<tr class="success">
<td>2021-09-04 19:22:35,517</td>
<td>TRACE</td>
<td><pre>BaseTest_SD::_BasicTestInit: this test has been launched with the following input arguments:
Namespace(conn_table=None, dummy_test=False, excel_path='/swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_4.xlsx', excel_setups_db_path=None, seed=None, setup_info=None, setup_name=None, stress=None, test_args=None)</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:35,518</td>
<td>TRACE</td>
<td><pre>BaseTest_SD::_BasicTestInit: this test is running from the following Setup Excel file /swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_4.xlsx</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:35,518</td>
<td>TRACE</td>
<td><pre>
+-------------------------------------------------------+
|                    TG Mapping Table                   |
+----+------------+------------+------+------+----------+
| ID | IP Address |  TG Type   | Card | Port | Dut Port |
+----+------------+------------+------+------+----------+
| 1  | 10.5.236.4 | ixia_linux |  12  |  11  |  sw1p1   |
| 2  | 10.5.236.4 | ixia_linux |  12  |  12  |  cisco   |
+----+------------+------------+------+------+----------+</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:35,519</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: connecting to IxiaSSH on IP 10.5.236.4 using TCL/API Server IP 10.5.236.4</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:41,831</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect:  Connection Successful</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:41,965</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: Found Ixia Phy Mode settings. Configure ports to PORT_PROPERTIES_MEDIA_TYPE.COPPER</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:44,123</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: Found Ixia Phy Mode settings. Configure ports to PORT_PROPERTIES_MEDIA_TYPE.COPPER</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:22:48,062</td>
<td>INFO</td>
<td><pre>Used cached DutInfo: dutmainchannel__/swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_4.xlsx__1628681681.9405458</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:22:48,442</td>
<td>INFO</td>
<td><pre>Used cached DutInfo: otherdutchannel__/swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_4.xlsx__1628681681.9405458</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:48,442</td>
<td>TRACE</td>
<td><pre>SwitchDevDutManager::login: Connecting to 10.5.236.41:root:22 ...</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:48,552</td>
<td>TRACE</td>
<td><pre>SwitchDevDutManager::login: Connection Successful</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:48,553</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "

"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:48,654</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: Linux localhost 5.10.4 #1 SMP PREEMPT Tue Aug 31 15:40:33 UTC 2021 aarch64
Last login: Sat Sep  4 19:20:05 2021 from 10.5.116.193


root@localhost:~# 
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:49,655</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "

"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:49,756</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:49,758</td>
<td>TRACE</td>
<td><pre>SwitchDevDutManager::login: Connecting to 10.5.236.39:root:22 ...</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:49,871</td>
<td>TRACE</td>
<td><pre>SwitchDevDutManager::login: Connection Successful</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:49,871</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "

"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:49,972</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: Linux localhost 5.10.4 #1 SMP PREEMPT Tue Aug 31 15:40:33 UTC 2021 aarch64
Last login: Sat Sep  4 19:20:07 2021 from 10.5.116.193


root@localhost:~# 
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:50,973</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "

"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,073</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,099</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_clear_dmesg: </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,200</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  echo "" &#62 /var/log/messages
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,300</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   echo "" &#62 /var/log/messages
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,301</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_clear_cmd_history: </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,402</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  history -c
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,503</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   history -c
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,503</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::stressCpus: </pre></td>
</tr>


<tr>
<td width="100"></td>
<td width="100"></td>
<td class="info"><pre>+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                                                                                Test Description                                                                                |
+------------+--------------------------------------------------+------------------------------------------------------------------------+-------------+-------------------------+
| Suite Name | Test Name                                        | Purpose                                                                | Author      | Test Document Reference |
+------------+--------------------------------------------------+------------------------------------------------------------------------+-------------+-------------------------+
| VRRP       | VRRP_FunctionalityUnderHeavyTrafficMacvlanOnPort |                                                                        | Maya Peretz |                         |
|            |                                                  |             Verify basic VRRP configuration when a macvlan is created  |             |                         |
|            |                                                  | over a port and under heavy traffic                                    |             |                         |
|            |                                                  |                                                                        |             |                         |
+------------+--------------------------------------------------+------------------------------------------------------------------------+-------------+-------------------------+

+-------------------------------------------------------------------------------+
|                                 Test Procedure                                |
+------+------------------------------------------------------------------------+
| Step | Step Description                                                       |
+------+------------------------------------------------------------------------+
| 1    | Set link up on all participant ports                                   |
+------+------------------------------------------------------------------------+
| 2    | Configure: Router1: - Interface 1: ip address 192.168.1.2/24. vrrp 44  |
|      | ip 192.168.1.2 - Interface 2: ip address 169.254.0.1/8. - Interface 3: |
|      | ip address 172.56.1.1/24 Router2: - Interface 1: ip address            |
|      | 192.168.1.3/24. vrrp 44 ip 192.168.1.2 - Interface 2: ip address       |
|      | 169.254.1.1/8. - ip route 172.56.1.0/24 via 169.254.0.1 Ixia port 1 -  |
|      | ip address 172.56.1.2 gw 172.56.1.1 Ixia port 2 - ip address           |
|      | 192.168.1.5 gw 192.168.1.2                                             |
+------+------------------------------------------------------------------------+
| 3    | Expect the next results: - Router1 serves as master because Router1 is |
|      | the address owner. - Router2 serves as backup. - Verify Traffic to     |
|      | 172.65.1.2 goes via Router 1                                           |
+------+------------------------------------------------------------------------+
| 4    | Make Router1 became unavailable.                                       |
+------+------------------------------------------------------------------------+
| 5    | Expect the next results: - Router2 takes over VRID 1 and its           |
|      | associated IP addresses. - Traffic to 172.65.1.2 goes via Router 2     |
+------+------------------------------------------------------------------------+
| 6    | Make Router1 becomes active again                                      |
+------+------------------------------------------------------------------------+
| 7    | Expect that it takes over as the master and Router2 reverts to backup. |
|      | Verify Traffic to 172.65.1.2 goes via Router 1                         |
+------+------------------------------------------------------------------------+</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:22:51,512</td>
<td>INFO</td>
<td><pre>Executing step 1: Set link up on all participant ports</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,512</td>
<td>DEBUG</td>
<td><pre>CommonTestAPI::setLinkStateOnInterfaces: set link up on ports</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,612</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p17 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,714</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p17 up
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,814</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p25 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:51,914</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p25 up
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:52,015</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:52,115</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p1 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:52,216</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p1 up
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:52,216</td>
<td>DEBUG</td>
<td><pre>CommonTestAPI::setLinkStateOnInterfaces: set link up on ports</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:52,316</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p45 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:52,417</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p45 up
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:52,618</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:52,718</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p42 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:52,819</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p42 up
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:52,919</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:22:52,919</td>
<td>INFO</td>
<td><pre>Executing step 2: Configure: Router1: - Interface 1: ip address 192.168.1.2/24. vrrp 44 ip 192.168.1.2 - Interface 2: ip address 169.254.0.1/8. - Interface 3: ip address 172.56.1.1/24 Router2: - Interface 1: ip address 192.168.1.3/24. vrrp 44 ip 192.168.1.2 - Interface 2: ip address 169.254.1.1/8. - ip route 172.56.1.0/24 via 169.254.0.1 Ixia port 1 - ip address 172.56.1.2 gw 172.56.1.1 Ixia port 2 - ip address 192.168.1.5 gw 192.168.1.2</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:53,052</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add add 192.168.1.4/24 dev sw1p17
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:53,153</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add add 192.168.1.4/24 dev sw1p17
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:53,254</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add add 169.254.0.1/8 dev sw1p25
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:53,355</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add add 169.254.0.1/8 dev sw1p25
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:53,455</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add add 172.56.1.1/24 dev sw1p1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:53,555</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add add 172.56.1.1/24 dev sw1p1
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:53,656</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add add 192.168.1.3/24 dev sw1p45
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:53,756</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add add 192.168.1.3/24 dev sw1p45
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:53,857</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add add 169.254.1.1/8 dev sw1p42
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:53,957</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add add 169.254.1.1/8 dev sw1p42
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:54,058</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "cat /etc/os-release | grep -Eo '^ID=\w+' | tr -d 'ID='
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:54,158</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: cat /etc/os-release | grep -Eo '^ID=\w+' | tr -d 'ID='
debian
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:54,259</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "echo $?
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:54,359</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: echo $?
0
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:54,459</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "if [ ! -z "$(pidof keepalived)" ]; then systemctl restart keepalived; else systemctl start keepalived; fi
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:54,560</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: if [ ! -z "$(pidof keepalived)" ]; then systemctl restart keepalived; else systemctl start keepalived; fi
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:54,661</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "cat /etc/os-release | grep -Eo '^ID=\w+' | tr -d 'ID='
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:54,761</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: cat /etc/os-release | grep -Eo '^ID=\w+' | tr -d 'ID='
debian
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:54,862</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "echo $?
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:54,962</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: echo $?
0
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:55,063</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "if [ ! -z "$(pidof keepalived)" ]; then systemctl restart keepalived; else systemctl start keepalived; fi
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:55,163</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: if [ ! -z "$(pidof keepalived)" ]; then systemctl restart keepalived; else systemctl start keepalived; fi
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:22:55,163</td>
<td>INFO</td>
<td><pre>Executing step 3: Expect the next results: - Router1 serves as master because Router1 is the address owner. - Router2 serves as backup. - Verify Traffic to 172.65.1.2 goes via Router 1</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:55,164</td>
<td>DEBUG</td>
<td><pre>CommonStreams::addIPv4ProtocolInterface: Setting up IPv4 protocol interface on port Port name: 2, Port uri: 10.5.236.4/12/12</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:55,164</td>
<td>DEBUG</td>
<td><pre>CommonStreams::addIPv4ProtocolInterface: Setting up IPv4 protocol interface on port Port name: 1, Port uri: 10.5.236.4/12/11</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:22:55,231</td>
<td>DEBUG</td>
<td><pre>Stream name: test#0
Stream uri: 1 12 12 1
Stream port name: 2
Stream packet: L2: MAC: DA[00:00:00:00:00:02, mode=MODIFIER_MAC_MODE.FIXED, step=1, count=1], SA[00:00:00:00:00:01, mode=MODIFIER_MAC_MODE.FIXED, step=1, count=1]
FCS[FCS_ERRORS_MODE.NO_ERROR]
EtherType: [0x0800]
PROTOCOL_OFFSET: OFFSET[14], VALUE[]
IPV4_HEADER: IPV4: SIP[0.0.0.0, mode=MODIFIER_IPV4_ADDRESS_MODE.FIXED, count=0, mask=255.0.0.0], DIP[172.56.1.2, mode=MODIFIER_IPV4_ADDRESS_MODE.FIXED, count=0, mask=255.0.0.0], TTL[64], PROTOCOL[255], IDENTIFIER[0], OPTIONS[], CUSTOM CHECKSUM[], FRAGMENT ENABLED[True], FRAGMENT OFFSET[0], FRAGMENT LAST[True]DATA_PATTERN: TYPE[DATA_PATTERN_TYPE.REPEATING], VALUE[0000], FILE_PATH[None]

Packet size: SIZE[64], MODE[MODIFIER_FRAME_SIZE_MODE.FIXED], MIN[64], MAX[64], STEP[1]
	WEIGHT_PAIRS_LIST[['64,1']]
	QUAD_GAUSSIAN_LIST[['200.00,100.00,1', '200.00,100.00,0', '200.00,100.00,0', '200.00,100.00,0']]
Stream control: MODE[STREAM_TRANSMIT_MODE.CONTINUOUS_PACKET], RETURN_TO_ID[1], LOOP_CCOUNT[1], PACKETS_PER_BURST[100], BURSTS_PER_STREAM[1]
	INTER_BURST_GAP[enable=False, value=9600, unit=STREAM_INTER_BURST_GAP_UNIT.BYTES]
	INTER_STREAM_GAP[enable=False, value=9600, unit=STREAM_INTER_STREAM_GAP_UNIT.BYTES]
START_TX_DELAY[0.0], START_TX_DELAY_UNIT[STREAM_START_TX_DELAY_UNIT.BYTES], PFC_QUEUE[0]
Stream enabled: True
Stream suspended: False
Stream rate: MODE[STREAM_RATE_MODE.UTILIZATION], UTILIZATION_VALUE[100], BITRATE_VALUE[100], PPS_VALUE[0.5], IPG_VALUE[96.0], INTER_PACKET_GAP_VALUE[STREAM_RATE_INTER_PACKET_GAP_MODE.NANOSECONDS], INTER_PACKET_GAP_MODE[], INTER_PACKET_GAP_ENFORCE_MIN_VAL[]
Stream port transmit mode: PORT_PROPERTIES_TRANSMIT_MODES.STREAM_BASED
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:41,037</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "arp -s 192.168.1.5 AA:00:00:00:00:01
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:41,138</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: arp -s 192.168.1.5 AA:00:00:00:00:01
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:41,239</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "arp -s 192.168.1.5 AA:00:00:00:00:01
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:41,339</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: arp -s 192.168.1.5 AA:00:00:00:00:01
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:41,440</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "arp -s 172.56.1.2 AA:00:00:00:00:02
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:41,540</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: arp -s 172.56.1.2 AA:00:00:00:00:02
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:41,640</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ping -c 5 169.254.0.1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:41,742</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ping -c 5 169.254.0.1
PING 169.254.0.1 (169.254.0.1) 56(84) bytes of data.
64 bytes from 169.254.0.1: icmp_seq=1 ttl=64 time=1.50 ms
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:42,744</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 64 bytes from 169.254.0.1: icmp_seq=2 ttl=64 time=0.149 ms
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:43,747</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 64 bytes from 169.254.0.1: icmp_seq=3 ttl=64 time=0.227 ms
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:44,749</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 64 bytes from 169.254.0.1: icmp_seq=4 ttl=64 time=0.643 ms
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:45,751</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 64 bytes from 169.254.0.1: icmp_seq=5 ttl=64 time=0.182 ms

--- 169.254.0.1 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4070ms
rtt min/avg/max/mdev = 0.149/0.540/1.500/0.512 ms
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:45,852</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip route add 172.56.1.0/24 via 169.254.0.1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:45,954</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip route add 172.56.1.0/24 via 169.254.0.1
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:23:49,957</td>
<td>DEBUG</td>
<td><pre>CommonTestAPI::transmitTraffic: Transmitting traffic:
Port name: 2, Port uri: 10.5.236.4/12/12 ----------&#62 cisco
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:07,474</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: " R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:07,575</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:09,580</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 3047048
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:09,580</td>
<td>DEBUG</td>
<td><pre>PASS: rx rate on port sw1p17 is grater then 150000</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:09,680</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: " R1=`cat /sys/class/net/sw1p45/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p45/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:09,781</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  R1=`cat /sys/class/net/sw1p45/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p45/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:11,785</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 22
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:11,785</td>
<td>DEBUG</td>
<td><pre>PASS: rx rate on port sw1p45 equals 0.</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:14,385</td>
<td>DEBUG</td>
<td><pre>PASS: received rate is greater than 1400000</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:24:14,385</td>
<td>INFO</td>
<td><pre>Executing step 4: Make Router1 became unavailable.</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:14,486</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev vrrp.44 down
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:14,586</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev vrrp.44 down
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:24:29,601</td>
<td>INFO</td>
<td><pre>Executing step 5: Expect the next results: - Router2 takes over VRID 1 and its associated IP addresses. - Traffic to 172.65.1.2 goes via Router 2</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:29,701</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: " R1=`cat /sys/class/net/sw1p45/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p45/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:29,802</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  R1=`cat /sys/class/net/sw1p45/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p45/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:31,806</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 3050168
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:31,807</td>
<td>DEBUG</td>
<td><pre>PASS: rx rate on port sw1p45 is grater then 150000</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:31,907</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: " R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:32,008</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:34,012</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 23
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:34,012</td>
<td>DEBUG</td>
<td><pre>PASS: rx rate on port sw1p17 equals 0.</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:36,637</td>
<td>DEBUG</td>
<td><pre>PASS: received rate is greater than 1400000</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:24:36,637</td>
<td>INFO</td>
<td><pre>Executing step 6: Make Router1 becomes active again</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:36,738</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev vrrp.44 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:36,838</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev vrrp.44 up
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:24:51,853</td>
<td>INFO</td>
<td><pre>Executing step 7: Expect that it takes over as the master and Router2 reverts to backup. Verify Traffic to 172.65.1.2 goes via Router 1</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:51,953</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: " R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:52,054</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:54,059</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 3048529
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:54,059</td>
<td>DEBUG</td>
<td><pre>PASS: rx rate on port sw1p17 is grater then 150000</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:54,159</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: " R1=`cat /sys/class/net/sw1p45/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p45/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:54,260</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  R1=`cat /sys/class/net/sw1p45/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p45/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:56,266</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 22
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:56,266</td>
<td>DEBUG</td>
<td><pre>PASS: rx rate on port sw1p45 equals 0.</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:58,948</td>
<td>DEBUG</td>
<td><pre>PASS: received rate is greater than 1400000</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:58,950</td>
<td>TRACE</td>
<td><pre>BaseTest::_OnPostTest:  starting to run registered post test functions</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:58,950</td>
<td>TRACE</td>
<td><pre>BaseTest::TestTearDown:  starting to call to cleanup functions of test</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:59,051</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip route del 172.56.1.0/24 via 169.254.0.1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:59,151</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip route del 172.56.1.0/24 via 169.254.0.1
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:59,252</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "if [ ! -z "$(pidof keepalived)" ]; then killall keepalived; fi
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:59,352</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: if [ ! -z "$(pidof keepalived)" ]; then killall keepalived; fi
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:59,452</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "echo "" &#62 /etc/keepalived/keepalived.conf
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:59,554</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: echo "" &#62 /etc/keepalived/keepalived.conf
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:59,654</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "if [ ! -z "$(pidof keepalived)" ]; then killall keepalived; fi
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:59,755</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: if [ ! -z "$(pidof keepalived)" ]; then killall keepalived; fi
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:59,855</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "echo "" &#62 /etc/keepalived/keepalived.conf
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:24:59,956</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: echo "" &#62 /etc/keepalived/keepalived.conf
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:00,056</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add del 169.254.1.1/8 dev sw1p42
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:00,157</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add del 169.254.1.1/8 dev sw1p42
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:00,258</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add del 192.168.1.3/24 dev sw1p45
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:00,358</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add del 192.168.1.3/24 dev sw1p45
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:00,459</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add del 172.56.1.1/24 dev sw1p1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:00,559</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add del 172.56.1.1/24 dev sw1p1
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:00,660</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add del 169.254.0.1/8 dev sw1p25
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:00,760</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add del 169.254.0.1/8 dev sw1p25
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:00,861</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add del 192.168.1.4/24 dev sw1p17
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:00,961</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add del 192.168.1.4/24 dev sw1p17
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:01,062</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p42 down
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:01,162</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p42 down
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:01,263</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:01,363</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p45 down
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:01,464</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p45 down
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:01,664</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:01,765</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p1 down
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:01,866</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p1 down
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:01,966</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,067</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p25 down
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,167</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p25 down
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,267</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,368</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p17 down
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,468</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p17 down
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,569</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,569</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_parse_dmesg: </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,669</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  history
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,770</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   history
    3  ip link set dev sw1p17 up
    4  ip link set dev sw1p25 up
    5  ip link set dev sw1p1 up
    6  ip add add 192.168.1.4/24 dev sw1p17
    7  ip add add 169.254.0.1/8 dev sw1p25
    8  ip add add 172.56.1.1/24 dev sw1p1
    9  cat /etc/os-release | grep -Eo '^ID=\w+' | tr -d 'ID='
   10  echo $?
   11  if [ ! -z "$(pidof keepalived)" ]; then systemctl restart keepalived; else systemctl start keepalived; fi
   12  cat /etc/os-release | grep -Eo '^ID=\w+' | tr -d 'ID='
   13  echo $?
   14  arp -s 192.168.1.5 AA:00:00:00:00:01
   15  arp -s 172.56.1.2 AA:00:00:00:00:02
   16   R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
   17  ip link set dev vrrp.44 down
   18   R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
   19  ip link set dev vrrp.44 up
   20   R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
   21  if [ ! -z "$(pidof keepalived)" ]; then killall keepalived; fi
   22  echo "" &#62 /etc/keepalived/keepalived.conf
   23  ip add del 172.56.1.1/24 dev sw1p1
   24  ip add del 169.254.0.1/8 dev sw1p25
   25  ip add del 192.168.1.4/24 dev sw1p17
   26  ip link set dev sw1p1 down
   27  ip link set dev sw1p25 down
   28  ip link set dev sw1p17 down
   29    history
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,770</td>
<td>DEBUG</td>
<td><pre>commands history:
    3  ip link set dev sw1p17 up
    4  ip link set dev sw1p25 up
    5  ip link set dev sw1p1 up
    6  ip add add 192.168.1.4/24 dev sw1p17
    7  ip add add 169.254.0.1/8 dev sw1p25
    8  ip add add 172.56.1.1/24 dev sw1p1
    9  cat /etc/os-release | grep -Eo '^ID=\w+' | tr -d 'ID='
   10  echo $?
   11  if [ ! -z "$(pidof keepalived)" ]; then systemctl restart keepalived; else systemctl start keepalived; fi
   12  cat /etc/os-release | grep -Eo '^ID=\w+' | tr -d 'ID='
   13  echo $?
   14  arp -s 192.168.1.5 AA:00:00:00:00:01
   15  arp -s 172.56.1.2 AA:00:00:00:00:02
   16   R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
   17  ip link set dev vrrp.44 down
   18   R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
   19  ip link set dev vrrp.44 up
   20   R1=`cat /sys/class/net/sw1p17/statistics/rx_packets`; sleep 2; R2=`cat /sys/class/net/sw1p17/statistics/rx_packets`; RXPPS=`expr $R2 - $R1`; echo $RXPPS
   21  if [ ! -z "$(pidof keepalived)" ]; then killall keepalived; fi
   22  echo "" &#62 /etc/keepalived/keepalived.conf
   23  ip add del 172.56.1.1/24 dev sw1p1
   24  ip add del 169.254.0.1/8 dev sw1p25
   25  ip add del 192.168.1.4/24 dev sw1p17
   26  ip link set dev sw1p1 down
   27  ip link set dev sw1p25 down
   28  ip link set dev sw1p17 down
   29    history</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,770</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_parse_dmesg: </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,876</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  cat /var/log/messages
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,977</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   cat /var/log/messages

Sep  4 19:22:39 localhost kernel: [  768.897040] AC3X 98DX3500 0000:01:00.0 sw1p25: configuring for inband/10gbase-r link mode
Sep  4 19:22:40 localhost kernel: [  770.376358] AC3X 98DX3500 0000:01:00.0 sw1p25: Link is Up - 10Gbps/Full - flow control off
Sep  4 19:22:40 localhost kernel: [  770.384699] IPv6: ADDRCONF(NETDEV_CHANGE): sw1p25: link becomes ready
Sep  4 19:22:42 localhost Keepalived_vrrp[1699]: Registering Kernel netlink reflector
Sep  4 19:22:42 localhost Keepalived_vrrp[1699]: Registering Kernel netlink command channel
Sep  4 19:22:42 localhost Keepalived_vrrp[1699]: Opening file '/etc/keepalived/keepalived.conf'.
Sep  4 19:22:42 localhost Keepalived_vrrp[1699]: (vrrp_test): Success creating VMAC interface vrrp.44
Sep  4 19:22:42 localhost Keepalived_vrrp[1699]: (vrrp_test) entering FAULT state
Sep  4 19:22:42 localhost kernel: [  771.585052] device sw1p17 entered promiscuous mode
Sep  4 19:22:42 localhost Keepalived_vrrp[1699]: Registering gratuitous ARP shared channel
Sep  4 19:22:43 localhost kernel: [  773.373378] IPv6: ADDRCONF(NETDEV_CHANGE): sw1p1: link becomes ready
Sep  4 19:22:44 localhost Keepalived_vrrp[1699]: Netlink reports sw1p17 up
Sep  4 19:22:44 localhost kernel: [  773.805582] IPv6: ADDRCONF(NETDEV_CHANGE): sw1p17: link becomes ready
Sep  4 19:22:44 localhost Keepalived_vrrp[1699]: Netlink reports vrrp.44 up
Sep  4 19:22:44 localhost Keepalived_vrrp[1699]: (vrrp_test) Entering BACKUP STATE
Sep  4 19:22:44 localhost Keepalived_vrrp[1699]: (vrrp_test) Entering MASTER STATE
Sep  4 19:22:44 localhost Keepalived_vrrp[1699]: (vrrp_test) using locally configured advertisement interval (100 milli-sec)
Sep  4 19:24:02 localhost kernel: [  851.570808] device sw1p17 left promiscuous mode
Sep  4 19:24:02 localhost Keepalived_vrrp[1699]: Netlink reports vrrp.44 down
Sep  4 19:24:02 localhost Keepalived_vrrp[1699]: (vrrp_test) Entering FAULT STATE
Sep  4 19:24:02 localhost Keepalived_vrrp[1699]: (vrrp_test) sent 0 priority
Sep  4 19:24:24 localhost Keepalived_vrrp[1699]: Netlink reports vrrp.44 up
Sep  4 19:24:24 localhost Keepalived_vrrp[1699]: (vrrp_test) Entering BACKUP STATE
Sep  4 19:24:24 localhost kernel: [  873.822809] device sw1p17 entered promiscuous mode
Sep  4 19:24:24 localhost Keepalived_vrrp[1699]: (vrrp_test) received lower priority (100) advert from 192.168.1.3 - discarding
Sep  4 19:24:24 localhost Keepalived_vrrp[1699]: (vrrp_test) received lower priority (100) advert from 192.168.1.3 - discarding
Sep  4 19:24:24 localhost Keepalived_vrrp[1699]: (vrrp_test) received lower priority (100) advert from 192.168.1.3 - discarding
Sep  4 19:24:24 localhost Keepalived_vrrp[1699]: (vrrp_test) Entering MASTER STATE
Sep  4 19:24:24 localhost Keepalived_vrrp[1699]: (vrrp_test) using locally configured advertisement interval (100 milli-sec)
Sep  4 19:24:47 localhost Keepalived_vrrp[1699]: (vrrp_test) sent 0 priority
Sep  4 19:24:48 localhost kernel: [  897.762687] device sw1p17 left promiscuous mode
Sep  4 19:24:48 localhost Keepalived_vrrp[1699]: vmac: Success removing VMAC interface vrrp.44 for vrrp_instance vrrp_test
Sep  4 19:24:48 localhost Keepalived_vrrp[1699]: Stopped
Sep  4 19:24:48 localhost kernel: [  898.258759] AC3X 98DX3500 0000:01:00.0 sw1p25: Link is Down
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,978</td>
<td>DEBUG</td>
<td><pre>dmesg lines that matched regex for issues:</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:02,978</td>
<td>DEBUG</td>
<td><pre>{
    "call trace:": {
        found: false,
        regex: "Call trace:",
    },
    "cut here": {
        found: false,
        regex: "\\[ cut here \\]",
    },
    "hw routing offloading disabled:": {
        found: false,
        regex: "Abort. HW routing offloading disabled",
    },
}</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:03,716</td>
<td>TRACE</td>
<td><pre>_TGManager::Cleanup:  clearing ports ownership...</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:03,925</td>
<td>TRACE</td>
<td><pre>_TGManager::Cleanup:  Disconnecting from chassis...</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 19:25:03,944</td>
<td>TRACE</td>
<td><pre>_TGManager::Cleanup:  TG disconnect time is 0.02</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:25:03,945</td>
<td>INFO</td>
<td><pre>Test Passed</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 19:25:03,949</td>
<td>INFO</td>
<td><pre>
CI_META:
{"Software_Version": "2.0.0-v3.0.0-rc4", "Linux_Version": ""}


+----------------------------------------------------------------------------------------------------------------------------------------------------+
|                                                                  Dut Information                                                                   |
+--------+-------------+------+------------------+--------------------------------+---------------+---------------+---------------------+------------+
| ODM    | Board_Model | ASIC | Software_Version | UBOOT_Version                  | Linux_Version | CPU_CoreClock | Host_kernel_version | PCBVersion |
+--------+-------------+------+------------------+--------------------------------+---------------+---------------+---------------------+------------+
| Accton | AS4224-52P  | AC3X | 2.0.0-v3.0.0-rc4 | U-Boot 2019.10-10.0.0-gd93ffd8 |               |               | 5.10.4              | R0A        |
+--------+-------------+------+------------------+--------------------------------+---------------+---------------+---------------------+------------+

None

None

+--------------------------------------------+
|                PDU Settings                |
+----+----------------+-------------+--------+
| id | Connect_To_PDU | ip_address  | outlet |
+----+----------------+-------------+--------+
| 1  | True           | 10.5.236.19 | 4      |
+----+----------------+-------------+--------+
| 3  | True           | 10.5.236.19 | 5      |
+----+----------------+-------------+--------+

None
+-------------------------------------------------------------------------------------------------------------------------------------------+
|                                                             Test Steps Summary                                                            |
+------+------------------------------------------------------------------------------------------------------+--------+--------------------+
| Step | Description                                                                                          | Result | Run Time           |
+------+------------------------------------------------------------------------------------------------------+--------+--------------------+
| 1    | Set link up on all participant ports                                                                 | Passed | 0.0                |
+------+------------------------------------------------------------------------------------------------------+--------+--------------------+
| 2    | Configure: Router1: - Interface 1: ip address 192.168.1.2/24. vrrp 44 ip 192.168.1.2 - Interface 2:  | Passed | 2.244107484817505  |
|      | ip address 169.254.0.1/8. - Interface 3: ip address 172.56.1.1/24 Router2: - Interface 1: ip address |        |                    |
|      | 192.168.1.3/24. vrrp 44 ip 192.168.1.2 - Interface 2: ip address 169.254.1.1/8. - ip route           |        |                    |
|      | 172.56.1.0/24 via 169.254.0.1 Ixia port 1 - ip address 172.56.1.2 gw 172.56.1.1 Ixia port 2 - ip     |        |                    |
|      | address 192.168.1.5 gw 192.168.1.2                                                                   |        |                    |
+------+------------------------------------------------------------------------------------------------------+--------+--------------------+
| 3    | Expect the next results: - Router1 serves as master because Router1 is the address owner. - Router2  | Passed | 79.22199153900146  |
|      | serves as backup. - Verify Traffic to 172.65.1.2 goes via Router 1                                   |        |                    |
+------+------------------------------------------------------------------------------------------------------+--------+--------------------+
| 4    | Make Router1 became unavailable.                                                                     | Passed | 15.215460062026978 |
+------+------------------------------------------------------------------------------------------------------+--------+--------------------+
| 5    | Expect the next results: - Router2 takes over VRID 1 and its associated IP addresses. - Traffic to   | Passed | 7.036361217498779  |
|      | 172.65.1.2 goes via Router 2                                                                         |        |                    |
+------+------------------------------------------------------------------------------------------------------+--------+--------------------+
| 6    | Make Router1 becomes active again                                                                    | Passed | 15.215519428253174 |
+------+------------------------------------------------------------------------------------------------------+--------+--------------------+
| 7    | Expect that it takes over as the master and Router2 reverts to backup. Verify Traffic to 172.65.1.2  | Passed | 7.097688436508179  |
|      | goes via Router 1                                                                                    |        |                    |
+------+------------------------------------------------------------------------------------------------------+--------+--------------------+
+-----------------------------------------------------------------------------------------------------------------------------+
|                                                       Test Information                                                      |
+------------+--------------------------------------------------+--------+-----------------+-----------------+----------------+
| Suite_Name | Test_Name                                        | Result | start_time      | end_time        | run_time       |
+------------+--------------------------------------------------+--------+-----------------+-----------------+----------------+
| VRRP       | VRRP_FunctionalityUnderHeavyTrafficMacvlanOnPort | Passed | 19:22:35.516589 | 19:25:03.944935 | 0:02:28.428346 |
+------------+--------------------------------------------------+--------+-----------------+-----------------+----------------+</pre></td>
</tr>

</tbody></table></div>
</body>
<script>
    $.fn.dataTable.ext.search.push(
        function( settings, data, dataIndex ) {
            let minIndex = severities.indexOf($('#min-severity').find(':selected').text());
            let maxIndex = severities.indexOf($('#max-severity').find(':selected').text());
            var severity = data[1] || 'NOT SET';// use data for the Log Level column
            var severityIndex = severities.indexOf(severity);
            if ( ( maxIndex == -1 && minIndex == -1 ) ||
                 ( minIndex <= severityIndex && severityIndex <= maxIndex ) )
            {
                return true;
            }
            return false;
        }
    );
    
    function fill_select(id, items){
        for(t of items){
            $('#'+id).append(new Option(t, t));
        }
    }
    
    function selectionChanged(selectChanged, selectAffected, selectedOption, startFrom, end){
        let selected = $('#'+selectAffected).find(':selected').text(); //keep affected value
        $('#'+selectAffected).empty(); //empty the affected one

        fill_select(selectAffected, severities.slice(startFrom, end));
        selected = $('#'+selectAffected).find("option:contains('" + selected  + "')").length > 0 ? selected : $("#"+selectAffected+" option:first").val();
        $('#'+selectAffected).val(selected);
    }
    
    var severities = ['NOT SET','TRACE','DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL']
    $(document).ready(function() {
        for(severity of severities){
            $('#min-severity, #max-severity').append(new Option(severity, severity));
        }
        
        $('#max-severity option:last').attr('selected', 'selected');
        
        var table = $('#data_table').DataTable({
            "lengthMenu": [[-1, 10, 25, 50], ["All", 10, 25, 50]]
        });
        
        $('#min-severity, #max-severity').change( function(e) {
            if(e.target.id == 'min-severity'){
                selectionChanged(e.target.id, 'max-severity', e.target.selectedOptions[0].text, severities.indexOf(e.target.selectedOptions[0].text), severities.length+1);
            }
            else if(e.target.id == 'max-severity'){
                selectionChanged(e.target.id, 'min-severity',e.target.selectedOptions[0].text, 0 ,severities.indexOf(e.target.selectedOptions[0].text) + 1);
            }
            table.draw();
        } );
    } );
    
    
</script>
</html>
