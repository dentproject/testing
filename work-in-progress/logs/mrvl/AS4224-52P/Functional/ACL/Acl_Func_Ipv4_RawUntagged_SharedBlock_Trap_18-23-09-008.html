<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Acl_Func_Ipv4_RawUntagged_SharedBlock_Trap_18-23-09-008348 Log</title>
<!-- Latest compiled and minified CSS -->
<!--
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs-3.3.7/jq-3.2.1/jq-3.2.1/dt-1.10.16/datatables.min.css"/>

<script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jq-3.2.1/jq-3.2.1/dt-1.10.16/datatables.min.js"></script>
-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
  
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
<style>
pre {
margin : 0;
white-space: pre-wrap;
background-color: inherit;
border: none;
border-radius: inherit;
}
</style>
</head>

<body>
<div class="col-md-12 col-xs-12 col-lg-12">
<br>
<h1 style="text-align:center">Acl_Func_Ipv4_RawUntagged_SharedBlock_Trap_18-23-09-008348 Log</h1>
<br>
<div class="input-group">
    <select class="form-control" id="min-severity" placeholder="Min Severity">
    </select>
    <span class="input-group-addon">-</span>
    <select class="form-control" id="max-severity" placeholder="Max Severity">
    </select>
</div>
&nbsp
<table id="data_table" class="table table-striped table-bordered" cellspacing="0">
<thead>
    <tr>
        <th style="width: 180px;">Time</th>
        <th style="width: 90px;">Log Level</th>
        <th>Message</th>
    </tr>
</thead>
<tbody>

<tr class="success">
<td>2021-09-04 18:23:09,009</td>
<td>TRACE</td>
<td><pre>BaseTest_SD::_BasicTestInit: this test has been launched with the following input arguments:
Namespace(conn_table=None, dummy_test=False, excel_path='/swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_23.xlsx', excel_setups_db_path=None, seed=None, setup_info=None, setup_name=None, stress=None, test_args=None)</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:09,009</td>
<td>TRACE</td>
<td><pre>BaseTest_SD::_BasicTestInit: this test is running from the following Setup Excel file /swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_23.xlsx</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:09,010</td>
<td>TRACE</td>
<td><pre>
+-------------------------------------------------------+
|                    TG Mapping Table                   |
+----+------------+------------+------+------+----------+
| ID | IP Address |  TG Type   | Card | Port | Dut Port |
+----+------------+------------+------+------+----------+
| 1  | 10.5.236.4 | ixia_linux |  11  |  5   |  sw1p1   |
| 2  | 10.5.236.4 | ixia_linux |  11  |  6   |  sw1p23  |
| 3  | 10.5.236.4 | ixia_linux |  11  |  7   |  sw1p35  |
| 4  | 10.5.236.4 | ixia_linux |  11  |  8   |  sw1p48  |
+----+------------+------------+------+------+----------+</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:09,010</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: connecting to IxiaSSH on IP 10.5.236.4 using TCL/API Server IP 10.5.236.4</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:17,874</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect:  Connection Successful</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:18,457</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: Found Ixia Phy Mode settings. Configure ports to PORT_PROPERTIES_MEDIA_TYPE.COPPER</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:20,287</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: Found Ixia Phy Mode settings. Configure ports to PORT_PROPERTIES_MEDIA_TYPE.COPPER</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:22,516</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: Found Ixia Phy Mode settings. Configure ports to PORT_PROPERTIES_MEDIA_TYPE.COPPER</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:25,854</td>
<td>TRACE</td>
<td><pre>_TGManager::Connect: Found Ixia Phy Mode settings. Configure ports to PORT_PROPERTIES_MEDIA_TYPE.COPPER</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:23:31,533</td>
<td>INFO</td>
<td><pre>Used cached DutInfo: dutmainchannel__/swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_23.xlsx__1620569885.7663186</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:31,534</td>
<td>TRACE</td>
<td><pre>SwitchDevDutManager::login: Connecting to 10.5.236.85:root:22 ...</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:31,644</td>
<td>TRACE</td>
<td><pre>SwitchDevDutManager::login: Connection Successful</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:31,644</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "

"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:31,745</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: Linux localhost 5.10.4 #1 SMP PREEMPT Tue Aug 31 15:40:33 UTC 2021 aarch64
Last login: Sat Sep  4 18:20:25 2021 from 10.5.116.193


root@localhost:~# 
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:32,747</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "

"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:32,847</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:32,848</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_clear_dmesg: </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:32,948</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  echo "" &#62 /var/log/messages
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,050</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   echo "" &#62 /var/log/messages
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,050</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_clear_cmd_history: </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,150</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  history -c
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,251</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   history -c
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,252</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::stressCpus: </pre></td>
</tr>


<tr>
<td width="100"></td>
<td width="100"></td>
<td class="info"><pre>+----------------------------------------------------------------------------------------------------------------------------------------------------+
|                                                                  Test Description                                                                  |
+------------+--------------------------------------------+--------------------------------------------------+-------------+-------------------------+
| Suite Name | Test Name                                  | Purpose                                          | Author      | Test Document Reference |
+------------+--------------------------------------------+--------------------------------------------------+-------------+-------------------------+
| ACL        | Acl_Func_Ipv4_RawUntagged_SharedBlock_Trap | This test comes to verify:                       | Maya Peretz | 1.2.6                   |
|            |                                            |             * Simple pass IPv4 acl functionality |             |                         |
|            |                                            |                                                  |             |                         |
+------------+--------------------------------------------+--------------------------------------------------+-------------+-------------------------+

+-------------------------------------------------------------------------------+
|                                 Test Procedure                                |
+------+------------------------------------------------------------------------+
| Step | Step Description                                                       |
+------+------------------------------------------------------------------------+
| 1    | Initiate test params                                                   |
+------+------------------------------------------------------------------------+
| 2    | Set link up on interfaces                                              |
+------+------------------------------------------------------------------------+
| 3    | Set IP forwarding = 1                                                  |
+------+------------------------------------------------------------------------+
| 4    | Configure ip 1.1.1.1 on first TGDutLink DUT port, 2.2.2.2 on second    |
|      | TGDutLink DUT port, 3.3.3.3 on third TGDutLink DUT port and configure  |
|      | route of 10.1.1.0 via 3.3.3.4                                          |
+------+------------------------------------------------------------------------+
| 5    | Configure hosts on Ixia ports                                          |
+------+------------------------------------------------------------------------+
| 6    | Create ingress qdisc                                                   |
+------+------------------------------------------------------------------------+
| 7    |                                                                        |
+------+------------------------------------------------------------------------+
| 8    | Set matched stream and send traffic                                    |
+------+------------------------------------------------------------------------+
| 9    | Verify matched traffic was trapped                                     |
+------+------------------------------------------------------------------------+
| 10   | Set up stream that do not match the rules and send traffic             |
+------+------------------------------------------------------------------------+
| 11   | Verify no unmatched traffic was trapped                                |
+------+------------------------------------------------------------------------+</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:23:33,255</td>
<td>INFO</td>
<td><pre>Executing step 1: Initiate test params</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,255</td>
<td>DEBUG</td>
<td><pre>AclAPI::initTestParams: Initiate all relevant test parameters</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:23:33,256</td>
<td>INFO</td>
<td><pre>Executing step 2: Set link up on interfaces</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,256</td>
<td>DEBUG</td>
<td><pre>CommonTestAPI::setLinkStateOnInterfaces: set link up on ports</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,356</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p1 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,457</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p1 up
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,558</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p23 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,659</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p23 up
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,760</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p35 up
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,861</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p35 up
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:23:33,861</td>
<td>INFO</td>
<td><pre>Executing step 3: Set IP forwarding = 1</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:33,961</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "sysctl -w net.ipv4.ip_forward=1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,062</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: sysctl -w net.ipv4.ip_forward=1
net.ipv4.ip_forward = 1
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:23:34,063</td>
<td>INFO</td>
<td><pre>Executing step 4: Configure ip 1.1.1.1 on first TGDutLink DUT port, 2.2.2.2 on second TGDutLink DUT port, 3.3.3.3 on third TGDutLink DUT port and configure route of 10.1.1.0 via 3.3.3.4</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,163</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add add 1.1.1.1/24 dev sw1p1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,264</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add add 1.1.1.1/24 dev sw1p1
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,366</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add add 2.2.2.2/24 dev sw1p23
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,467</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add add 2.2.2.2/24 dev sw1p23
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,568</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add add 3.3.3.3/24 dev sw1p35
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,668</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add add 3.3.3.3/24 dev sw1p35
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,769</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip route add 10.1.1.0/24 via 3.3.3.4
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,870</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip route add 10.1.1.0/24 via 3.3.3.4
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:23:34,870</td>
<td>INFO</td>
<td><pre>Executing step 5: Configure hosts on Ixia ports</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,871</td>
<td>DEBUG</td>
<td><pre>CommonStreams::addIPv4ProtocolInterface: Setting up IPv4 protocol interface on port Port name: 3, Port uri: 10.5.236.4/11/7</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,871</td>
<td>DEBUG</td>
<td><pre>CommonStreams::addIPv4ProtocolInterface: Setting up IPv4 protocol interface on port Port name: 1, Port uri: 10.5.236.4/11/5</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:23:34,871</td>
<td>DEBUG</td>
<td><pre>CommonStreams::addIPv4ProtocolInterface: Setting up IPv4 protocol interface on port Port name: 2, Port uri: 10.5.236.4/11/6</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:06,272</td>
<td>INFO</td>
<td><pre>Executing step 6: Create ingress qdisc</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:06,272</td>
<td>DEBUG</td>
<td><pre>AclAPI::configureQdisc: configure ingress qdisc</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:06,373</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "tc qdisc add dev sw1p1 ingress_block 22 ingress
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:06,474</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: tc qdisc add dev sw1p1 ingress_block 22 ingress
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:06,575</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "tc qdisc add dev sw1p23 ingress_block 22 ingress
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:06,676</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: tc qdisc add dev sw1p23 ingress_block 22 ingress
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:06,676</td>
<td>INFO</td>
<td><pre>Executing step 7: Create rule: protocol ip src_ip 1.1.1.2 dst_ip 10.1.1.1 action trap action trap</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:06,778</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "tc filter add block 22 protocol ip flower  src_ip 1.1.1.2 dst_ip 10.1.1.1 action trap
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:06,879</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: tc filter add block 22 protocol ip flower  src_ip 1.1.1.2 dst_ip 10.1.1.1 action trap
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:06,879</td>
<td>INFO</td>
<td><pre>Executing step 9: Verify matched traffic was trapped</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:06,955</td>
<td>DEBUG</td>
<td><pre>Stream name: test#0
Stream uri: 1 11 5 1
Stream port name: 1
Stream packet: L2: MAC: DA[00:00:00:00:00:02, mode=MODIFIER_MAC_MODE.FIXED, step=1, count=1], SA[00:00:00:00:00:01, mode=MODIFIER_MAC_MODE.FIXED, step=1, count=1]
FCS[FCS_ERRORS_MODE.NO_ERROR]
EtherType: [0x0800]
PROTOCOL_OFFSET: OFFSET[14], VALUE[]
IPV4_HEADER: IPV4: SIP[0.0.0.0, mode=MODIFIER_IPV4_ADDRESS_MODE.FIXED, count=0, mask=255.0.0.0], DIP[10.1.1.1, mode=MODIFIER_IPV4_ADDRESS_MODE.FIXED, count=0, mask=255.0.0.0], TTL[64], PROTOCOL[255], IDENTIFIER[0], OPTIONS[], CUSTOM CHECKSUM[], FRAGMENT ENABLED[True], FRAGMENT OFFSET[0], FRAGMENT LAST[True]DATA_PATTERN: TYPE[DATA_PATTERN_TYPE.REPEATING], VALUE[0000], FILE_PATH[None]

Packet size: SIZE[64], MODE[MODIFIER_FRAME_SIZE_MODE.FIXED], MIN[64], MAX[64], STEP[1]
	WEIGHT_PAIRS_LIST[['64,1']]
	QUAD_GAUSSIAN_LIST[['200.00,100.00,1', '200.00,100.00,0', '200.00,100.00,0', '200.00,100.00,0']]
Stream control: MODE[STREAM_TRANSMIT_MODE.CONTINUOUS_PACKET], RETURN_TO_ID[1], LOOP_CCOUNT[1], PACKETS_PER_BURST[100], BURSTS_PER_STREAM[1]
	INTER_BURST_GAP[enable=False, value=9600, unit=STREAM_INTER_BURST_GAP_UNIT.BYTES]
	INTER_STREAM_GAP[enable=False, value=9600, unit=STREAM_INTER_STREAM_GAP_UNIT.BYTES]
START_TX_DELAY[0.0], START_TX_DELAY_UNIT[STREAM_START_TX_DELAY_UNIT.BYTES], PFC_QUEUE[0]
Stream enabled: True
Stream suspended: False
Stream rate: MODE[STREAM_RATE_MODE.UTILIZATION], UTILIZATION_VALUE[100], BITRATE_VALUE[100], PPS_VALUE[0.5], IPG_VALUE[96.0], INTER_PACKET_GAP_VALUE[STREAM_RATE_INTER_PACKET_GAP_MODE.NANOSECONDS], INTER_PACKET_GAP_MODE[], INTER_PACKET_GAP_ENFORCE_MIN_VAL[]
Stream port transmit mode: PORT_PROPERTIES_TRANSMIT_MODES.STREAM_BASED
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:07,771</td>
<td>DEBUG</td>
<td><pre>CommonTestAPI::transmitTraffic: Transmitting traffic:
Port name: 1, Port uri: 10.5.236.4/11/5 ----------&#62 sw1p1
</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:09,294</td>
<td>INFO</td>
<td><pre>Executing step 10: Set up stream that do not match the rules and send traffic</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:09,395</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "tcpdump -c 10 -i sw1p1 ip and src host 1.1.1.2 and dst host 10.1.1.1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:09,496</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: tcpdump -c 10 -i sw1p1 ip and src host 1.1.1.2 and dst host 10.1.1.1
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on sw1p1, link-type EN10MB (Ethernet), capture size 262144 bytes
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:09,596</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 18:24:55.701312 IP 1.1.1.2 &#62 10.1.1.1:  reserved 26
18:24:55.701335 IP 1.1.1.2 &#62 10.1.1.1:  reserved 26
18:24:55.701338 IP 1.1.1.2 &#62 10.1.1.1:  reserved 26
18:24:55.701341 IP 1.1.1.2 &#62 10.1.1.1:  reserved 26
18:24:55.701348 IP 1.1.1.2 &#62 10.1.1.1:  reserved 26
18:24:55.701350 IP 1.1.1.2 &#62 10.1.1.1:  reserved 26
18:24:55.701353 IP 1.1.1.2 &#62 10.1.1.1:  reserved 26
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:09,697</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 18:24:55.800601 IP 1.1.1.2 &#62 10.1.1.1:  reserved 26
18:24:55.800624 IP 1.1.1.2 &#62 10.1.1.1:  reserved 26
18:24:55.800626 IP 1.1.1.2 &#62 10.1.1.1:  reserved 26
10 packets captured
844 packets received by filter
734 packets dropped by kernel
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:09,798</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:09,798</td>
<td>INFO</td>
<td><pre>PASS: matched traffic was trapped</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:09,799</td>
<td>INFO</td>
<td><pre>Executing step 10: Set up stream that do not match the rules and send traffic</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:09,946</td>
<td>DEBUG</td>
<td><pre>Stream name: test#1
Stream uri: 1 11 5 1
Stream port name: 1
Stream packet: L2: MAC: DA[00:00:00:00:00:02, mode=MODIFIER_MAC_MODE.FIXED, step=1, count=1], SA[00:00:00:00:00:01, mode=MODIFIER_MAC_MODE.FIXED, step=1, count=1]
FCS[FCS_ERRORS_MODE.NO_ERROR]
EtherType: [0x0800]
PROTOCOL_OFFSET: OFFSET[14], VALUE[]
IPV4_HEADER: IPV4: SIP[0.0.0.0, mode=MODIFIER_IPV4_ADDRESS_MODE.FIXED, count=0, mask=255.0.0.0], DIP[3.3.3.4, mode=MODIFIER_IPV4_ADDRESS_MODE.FIXED, count=0, mask=255.0.0.0], TTL[64], PROTOCOL[255], IDENTIFIER[0], OPTIONS[], CUSTOM CHECKSUM[], FRAGMENT ENABLED[True], FRAGMENT OFFSET[0], FRAGMENT LAST[True]DATA_PATTERN: TYPE[DATA_PATTERN_TYPE.REPEATING], VALUE[0000], FILE_PATH[None]

Packet size: SIZE[64], MODE[MODIFIER_FRAME_SIZE_MODE.FIXED], MIN[64], MAX[64], STEP[1]
	WEIGHT_PAIRS_LIST[['64,1']]
	QUAD_GAUSSIAN_LIST[['200.00,100.00,1', '200.00,100.00,0', '200.00,100.00,0', '200.00,100.00,0']]
Stream control: MODE[STREAM_TRANSMIT_MODE.CONTINUOUS_PACKET], RETURN_TO_ID[1], LOOP_CCOUNT[1], PACKETS_PER_BURST[100], BURSTS_PER_STREAM[1]
	INTER_BURST_GAP[enable=False, value=9600, unit=STREAM_INTER_BURST_GAP_UNIT.BYTES]
	INTER_STREAM_GAP[enable=False, value=9600, unit=STREAM_INTER_STREAM_GAP_UNIT.BYTES]
START_TX_DELAY[0.0], START_TX_DELAY_UNIT[STREAM_START_TX_DELAY_UNIT.BYTES], PFC_QUEUE[0]
Stream enabled: True
Stream suspended: False
Stream rate: MODE[STREAM_RATE_MODE.UTILIZATION], UTILIZATION_VALUE[100], BITRATE_VALUE[100], PPS_VALUE[0.5], IPG_VALUE[96.0], INTER_PACKET_GAP_VALUE[STREAM_RATE_INTER_PACKET_GAP_MODE.NANOSECONDS], INTER_PACKET_GAP_MODE[], INTER_PACKET_GAP_ENFORCE_MIN_VAL[]
Stream port transmit mode: PORT_PROPERTIES_TRANSMIT_MODES.STREAM_BASED
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:11,862</td>
<td>DEBUG</td>
<td><pre>wait 15 seconds...</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:26,877</td>
<td>DEBUG</td>
<td><pre>CommonTestAPI::transmitTraffic: Transmitting traffic:
Port name: 1, Port uri: 10.5.236.4/11/5 ----------&#62 Port name: 3, Port uri: 10.5.236.4/11/7
</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:33,441</td>
<td>INFO</td>
<td><pre>Executing step 11: Verify no unmatched traffic was trapped</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:33,542</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "tcpdump -c 10 -i sw1p1 ip and src host 1.1.1.2 and dst host 3.3.3.4
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:33,643</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: tcpdump -c 10 -i sw1p1 ip and src host 1.1.1.2 and dst host 3.3.3.4
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on sw1p1, link-type EN10MB (Ethernet), capture size 262144 bytes
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:53,604</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: timeout expired
sending newline char and trying 1 last time</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:53,605</td>
<td>TRACE</td>
<td><pre>PyComWrapper::GetBufferTillPattern:  ==&#62CMD: "
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:53,706</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:53,806</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:53,907</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ^C

0 packets captured
0 packets received by filter
0 packets dropped by kernel
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:53,907</td>
<td>INFO</td>
<td><pre>PASS: No unmatched traffic was trapped</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:53,979</td>
<td>INFO</td>
<td><pre>Executing step 7: Create rule: protocol ip src_ip 2.2.2.3 dst_ip 10.1.1.2 action trap action trap</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:54,079</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "tc filter add block 22 protocol ip flower  src_ip 2.2.2.3 dst_ip 10.1.1.2 action trap
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:54,180</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: tc filter add block 22 protocol ip flower  src_ip 2.2.2.3 dst_ip 10.1.1.2 action trap
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:54,181</td>
<td>INFO</td>
<td><pre>Executing step 9: Verify matched traffic was trapped</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:54,259</td>
<td>DEBUG</td>
<td><pre>Stream name: test#2
Stream uri: 1 11 6 1
Stream port name: 2
Stream packet: L2: MAC: DA[00:00:00:00:00:02, mode=MODIFIER_MAC_MODE.FIXED, step=1, count=1], SA[00:00:00:00:00:01, mode=MODIFIER_MAC_MODE.FIXED, step=1, count=1]
FCS[FCS_ERRORS_MODE.NO_ERROR]
EtherType: [0x0800]
PROTOCOL_OFFSET: OFFSET[14], VALUE[]
IPV4_HEADER: IPV4: SIP[0.0.0.0, mode=MODIFIER_IPV4_ADDRESS_MODE.FIXED, count=0, mask=255.0.0.0], DIP[10.1.1.2, mode=MODIFIER_IPV4_ADDRESS_MODE.FIXED, count=0, mask=255.0.0.0], TTL[64], PROTOCOL[255], IDENTIFIER[0], OPTIONS[], CUSTOM CHECKSUM[], FRAGMENT ENABLED[True], FRAGMENT OFFSET[0], FRAGMENT LAST[True]DATA_PATTERN: TYPE[DATA_PATTERN_TYPE.REPEATING], VALUE[0000], FILE_PATH[None]

Packet size: SIZE[64], MODE[MODIFIER_FRAME_SIZE_MODE.FIXED], MIN[64], MAX[64], STEP[1]
	WEIGHT_PAIRS_LIST[['64,1']]
	QUAD_GAUSSIAN_LIST[['200.00,100.00,1', '200.00,100.00,0', '200.00,100.00,0', '200.00,100.00,0']]
Stream control: MODE[STREAM_TRANSMIT_MODE.CONTINUOUS_PACKET], RETURN_TO_ID[1], LOOP_CCOUNT[1], PACKETS_PER_BURST[100], BURSTS_PER_STREAM[1]
	INTER_BURST_GAP[enable=False, value=9600, unit=STREAM_INTER_BURST_GAP_UNIT.BYTES]
	INTER_STREAM_GAP[enable=False, value=9600, unit=STREAM_INTER_STREAM_GAP_UNIT.BYTES]
START_TX_DELAY[0.0], START_TX_DELAY_UNIT[STREAM_START_TX_DELAY_UNIT.BYTES], PFC_QUEUE[0]
Stream enabled: True
Stream suspended: False
Stream rate: MODE[STREAM_RATE_MODE.UTILIZATION], UTILIZATION_VALUE[100], BITRATE_VALUE[100], PPS_VALUE[0.5], IPG_VALUE[96.0], INTER_PACKET_GAP_VALUE[STREAM_RATE_INTER_PACKET_GAP_MODE.NANOSECONDS], INTER_PACKET_GAP_MODE[], INTER_PACKET_GAP_ENFORCE_MIN_VAL[]
Stream port transmit mode: PORT_PROPERTIES_TRANSMIT_MODES.STREAM_BASED
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:55,082</td>
<td>DEBUG</td>
<td><pre>CommonTestAPI::transmitTraffic: Transmitting traffic:
Port name: 2, Port uri: 10.5.236.4/11/6 ----------&#62 sw1p23
</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:56,591</td>
<td>INFO</td>
<td><pre>Executing step 10: Set up stream that do not match the rules and send traffic</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:56,692</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "tcpdump -c 10 -i sw1p23 ip and src host 2.2.2.3 and dst host 10.1.1.2
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:56,794</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: tcpdump -c 10 -i sw1p23 ip and src host 2.2.2.3 and dst host 10.1.1.2
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on sw1p23, link-type EN10MB (Ethernet), capture size 262144 bytes
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:56,895</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 18:25:42.978222 IP 2.2.2.3 &#62 10.1.1.2:  reserved 26
18:25:42.978248 IP 2.2.2.3 &#62 10.1.1.2:  reserved 26
18:25:42.978257 IP 2.2.2.3 &#62 10.1.1.2:  reserved 26
18:25:42.978260 IP 2.2.2.3 &#62 10.1.1.2:  reserved 26
18:25:42.978263 IP 2.2.2.3 &#62 10.1.1.2:  reserved 26
18:25:42.978265 IP 2.2.2.3 &#62 10.1.1.2:  reserved 26
18:25:42.978267 IP 2.2.2.3 &#62 10.1.1.2:  reserved 26
18:25:42.979628 IP 2.2.2.3 &#62 10.1.1.2:  reserved 26
18:25:42.979632 IP 2.2.2.3 &#62 10.1.1.2:  reserved 26
18:25:42.979640 IP 2.2.2.3 &#62 10.1.1.2:  reserved 26
10 packets captured
400 packets received by filter
383 packets dropped by kernel
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:56,895</td>
<td>INFO</td>
<td><pre>PASS: matched traffic was trapped</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:25:56,895</td>
<td>INFO</td>
<td><pre>Executing step 10: Set up stream that do not match the rules and send traffic</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:57,046</td>
<td>DEBUG</td>
<td><pre>Stream name: test#3
Stream uri: 1 11 6 1
Stream port name: 2
Stream packet: L2: MAC: DA[00:00:00:00:00:02, mode=MODIFIER_MAC_MODE.FIXED, step=1, count=1], SA[00:00:00:00:00:01, mode=MODIFIER_MAC_MODE.FIXED, step=1, count=1]
FCS[FCS_ERRORS_MODE.NO_ERROR]
EtherType: [0x0800]
PROTOCOL_OFFSET: OFFSET[14], VALUE[]
IPV4_HEADER: IPV4: SIP[0.0.0.0, mode=MODIFIER_IPV4_ADDRESS_MODE.FIXED, count=0, mask=255.0.0.0], DIP[3.3.3.4, mode=MODIFIER_IPV4_ADDRESS_MODE.FIXED, count=0, mask=255.0.0.0], TTL[64], PROTOCOL[255], IDENTIFIER[0], OPTIONS[], CUSTOM CHECKSUM[], FRAGMENT ENABLED[True], FRAGMENT OFFSET[0], FRAGMENT LAST[True]DATA_PATTERN: TYPE[DATA_PATTERN_TYPE.REPEATING], VALUE[0000], FILE_PATH[None]

Packet size: SIZE[64], MODE[MODIFIER_FRAME_SIZE_MODE.FIXED], MIN[64], MAX[64], STEP[1]
	WEIGHT_PAIRS_LIST[['64,1']]
	QUAD_GAUSSIAN_LIST[['200.00,100.00,1', '200.00,100.00,0', '200.00,100.00,0', '200.00,100.00,0']]
Stream control: MODE[STREAM_TRANSMIT_MODE.CONTINUOUS_PACKET], RETURN_TO_ID[1], LOOP_CCOUNT[1], PACKETS_PER_BURST[100], BURSTS_PER_STREAM[1]
	INTER_BURST_GAP[enable=False, value=9600, unit=STREAM_INTER_BURST_GAP_UNIT.BYTES]
	INTER_STREAM_GAP[enable=False, value=9600, unit=STREAM_INTER_STREAM_GAP_UNIT.BYTES]
START_TX_DELAY[0.0], START_TX_DELAY_UNIT[STREAM_START_TX_DELAY_UNIT.BYTES], PFC_QUEUE[0]
Stream enabled: True
Stream suspended: False
Stream rate: MODE[STREAM_RATE_MODE.UTILIZATION], UTILIZATION_VALUE[100], BITRATE_VALUE[100], PPS_VALUE[0.5], IPG_VALUE[96.0], INTER_PACKET_GAP_VALUE[STREAM_RATE_INTER_PACKET_GAP_MODE.NANOSECONDS], INTER_PACKET_GAP_MODE[], INTER_PACKET_GAP_ENFORCE_MIN_VAL[]
Stream port transmit mode: PORT_PROPERTIES_TRANSMIT_MODES.STREAM_BASED
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:25:58,973</td>
<td>DEBUG</td>
<td><pre>wait 15 seconds...</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:13,989</td>
<td>DEBUG</td>
<td><pre>CommonTestAPI::transmitTraffic: Transmitting traffic:
Port name: 2, Port uri: 10.5.236.4/11/6 ----------&#62 Port name: 3, Port uri: 10.5.236.4/11/7
</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:26:20,497</td>
<td>INFO</td>
<td><pre>Executing step 11: Verify no unmatched traffic was trapped</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:20,598</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "tcpdump -c 10 -i sw1p23 ip and src host 2.2.2.3 and dst host 3.3.3.4
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:20,698</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: tcpdump -c 10 -i sw1p23 ip and src host 2.2.2.3 and dst host 3.3.3.4
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on sw1p23, link-type EN10MB (Ethernet), capture size 262144 bytes
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:40,658</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: timeout expired
sending newline char and trying 1 last time</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:40,659</td>
<td>TRACE</td>
<td><pre>PyComWrapper::GetBufferTillPattern:  ==&#62CMD: "
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:40,759</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 
</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:40,860</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:40,961</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ^C

0 packets captured
0 packets received by filter
0 packets dropped by kernel
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:26:40,961</td>
<td>INFO</td>
<td><pre>PASS: No unmatched traffic was trapped</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:41,097</td>
<td>TRACE</td>
<td><pre>BaseTest::_OnPostTest:  starting to run registered post test functions</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:41,098</td>
<td>TRACE</td>
<td><pre>BaseTest::TestTearDown:  starting to call to cleanup functions of test</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:41,198</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "tc qdisc del dev sw1p23 ingress
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:41,299</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: tc qdisc del dev sw1p23 ingress
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:41,400</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "tc qdisc del dev sw1p1 ingress
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:41,500</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: tc qdisc del dev sw1p1 ingress
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:41,602</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip route del 10.1.1.0/24 via 3.3.3.4
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:41,703</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip route del 10.1.1.0/24 via 3.3.3.4
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:41,804</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add del 3.3.3.3/24 dev sw1p35
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:41,905</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add del 3.3.3.3/24 dev sw1p35
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:42,006</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add del 2.2.2.2/24 dev sw1p23
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:42,107</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add del 2.2.2.2/24 dev sw1p23
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:42,208</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip add del 1.1.1.1/24 dev sw1p1
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:42,308</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip add del 1.1.1.1/24 dev sw1p1
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:42,409</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "sysctl -w net.ipv4.ip_forward=0
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:42,510</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: sysctl -w net.ipv4.ip_forward=0
net.ipv4.ip_forward = 0
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:42,610</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p35 down
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:42,711</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p35 down
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:42,812</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p23 down
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:42,913</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p23 down
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,013</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ip link set dev sw1p1 down
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,114</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ip link set dev sw1p1 down
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,115</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_parse_dmesg: </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,215</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  history
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,316</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   history
    3  ip link set dev sw1p1 up
    4  ip link set dev sw1p23 up
    5  ip link set dev sw1p35 up
    6  sysctl -w net.ipv4.ip_forward=1
    7  ip add add 1.1.1.1/24 dev sw1p1
    8  ip add add 2.2.2.2/24 dev sw1p23
    9  ip add add 3.3.3.3/24 dev sw1p35
   10  ip route add 10.1.1.0/24 via 3.3.3.4
   11  tc qdisc add dev sw1p1 ingress_block 22 ingress
   12  tc qdisc add dev sw1p23 ingress_block 22 ingress
   13  tc filter add block 22 protocol ip flower  src_ip 1.1.1.2 dst_ip 10.1.1.1 action trap
   14  tcpdump -c 10 -i sw1p1 ip and src host 1.1.1.2 and dst host 10.1.1.1
   15  tcpdump -c 10 -i sw1p1 ip and src host 1.1.1.2 and dst host 3.3.3.4
   16  tc filter add block 22 protocol ip flower  src_ip 2.2.2.3 dst_ip 10.1.1.2 action trap
   17  tcpdump -c 10 -i sw1p23 ip and src host 2.2.2.3 and dst host 10.1.1.2
   18  tcpdump -c 10 -i sw1p23 ip and src host 2.2.2.3 and dst host 3.3.3.4
   19  tc qdisc del dev sw1p23 ingress
   20  tc qdisc del dev sw1p1 ingress
   21  ip route del 10.1.1.0/24 via 3.3.3.4
   22  ip add del 3.3.3.3/24 dev sw1p35
   23  ip add del 2.2.2.2/24 dev sw1p23
   24  ip add del 1.1.1.1/24 dev sw1p1
   25  sysctl -w net.ipv4.ip_forward=0
   26  ip link set dev sw1p35 down
   27  ip link set dev sw1p23 down
   28  ip link set dev sw1p1 down
   29    history
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,316</td>
<td>DEBUG</td>
<td><pre>commands history:
    3  ip link set dev sw1p1 up
    4  ip link set dev sw1p23 up
    5  ip link set dev sw1p35 up
    6  sysctl -w net.ipv4.ip_forward=1
    7  ip add add 1.1.1.1/24 dev sw1p1
    8  ip add add 2.2.2.2/24 dev sw1p23
    9  ip add add 3.3.3.3/24 dev sw1p35
   10  ip route add 10.1.1.0/24 via 3.3.3.4
   11  tc qdisc add dev sw1p1 ingress_block 22 ingress
   12  tc qdisc add dev sw1p23 ingress_block 22 ingress
   13  tc filter add block 22 protocol ip flower  src_ip 1.1.1.2 dst_ip 10.1.1.1 action trap
   14  tcpdump -c 10 -i sw1p1 ip and src host 1.1.1.2 and dst host 10.1.1.1
   15  tcpdump -c 10 -i sw1p1 ip and src host 1.1.1.2 and dst host 3.3.3.4
   16  tc filter add block 22 protocol ip flower  src_ip 2.2.2.3 dst_ip 10.1.1.2 action trap
   17  tcpdump -c 10 -i sw1p23 ip and src host 2.2.2.3 and dst host 10.1.1.2
   18  tcpdump -c 10 -i sw1p23 ip and src host 2.2.2.3 and dst host 3.3.3.4
   19  tc qdisc del dev sw1p23 ingress
   20  tc qdisc del dev sw1p1 ingress
   21  ip route del 10.1.1.0/24 via 3.3.3.4
   22  ip add del 3.3.3.3/24 dev sw1p35
   23  ip add del 2.2.2.2/24 dev sw1p23
   24  ip add del 1.1.1.1/24 dev sw1p1
   25  sysctl -w net.ipv4.ip_forward=0
   26  ip link set dev sw1p35 down
   27  ip link set dev sw1p23 down
   28  ip link set dev sw1p1 down
   29    history</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,317</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::_parse_dmesg: </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,427</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "  cat /var/log/messages
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,528</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:   cat /var/log/messages

Sep  4 18:23:23 localhost kernel: [ 1065.794899] IPv6: ADDRCONF(NETDEV_CHANGE): sw1p23: link becomes ready
Sep  4 18:23:23 localhost kernel: [ 1065.803680] IPv6: ADDRCONF(NETDEV_CHANGE): sw1p1: link becomes ready
Sep  4 18:23:23 localhost kernel: [ 1066.152873] IPv6: ADDRCONF(NETDEV_CHANGE): sw1p35: link becomes ready
Sep  4 18:24:55 localhost kernel: [ 1158.063641] device sw1p1 entered promiscuous mode
Sep  4 18:24:55 localhost kernel: [ 1158.266495] device sw1p1 left promiscuous mode
Sep  4 18:25:19 localhost kernel: [ 1182.187636] device sw1p1 entered promiscuous mode
Sep  4 18:25:39 localhost kernel: [ 1202.413947] device sw1p1 left promiscuous mode
Sep  4 18:25:42 localhost kernel: [ 1205.351637] device sw1p23 entered promiscuous mode
Sep  4 18:25:42 localhost kernel: [ 1205.445609] device sw1p23 left promiscuous mode
Sep  4 18:26:06 localhost kernel: [ 1229.239636] device sw1p23 entered promiscuous mode
Sep  4 18:26:27 localhost kernel: [ 1249.467055] device sw1p23 left promiscuous mode
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,528</td>
<td>DEBUG</td>
<td><pre>dmesg lines that matched regex for issues:</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:43,530</td>
<td>DEBUG</td>
<td><pre>{
    "call trace:": {
        found: false,
        regex: "Call trace:",
    },
    "cut here": {
        found: false,
        regex: "\\[ cut here \\]",
    },
    "hw routing offloading disabled:": {
        found: false,
        regex: "Abort. HW routing offloading disabled",
    },
}</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:45,020</td>
<td>TRACE</td>
<td><pre>_TGManager::Cleanup:  clearing ports ownership...</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:45,439</td>
<td>TRACE</td>
<td><pre>_TGManager::Cleanup:  Disconnecting from chassis...</pre></td>
</tr>


<tr class="success">
<td>2021-09-04 18:26:45,459</td>
<td>TRACE</td>
<td><pre>_TGManager::Cleanup:  TG disconnect time is 0.02</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:26:45,459</td>
<td>INFO</td>
<td><pre>Test Passed</pre></td>
</tr>


<tr class="info">
<td>2021-09-04 18:26:45,469</td>
<td>INFO</td>
<td><pre>
CI_META:
{"Software_Version": "2.0.0-v3.0.0-rc4", "Linux_Version": ""}


+----------------------------------------------------------------------------------------------------------------------------------------------------+
|                                                                  Dut Information                                                                   |
+--------+-------------+------+------------------+--------------------------------+---------------+---------------+---------------------+------------+
| ODM    | Board_Model | ASIC | Software_Version | UBOOT_Version                  | Linux_Version | CPU_CoreClock | Host_kernel_version | PCBVersion |
+--------+-------------+------+------------------+--------------------------------+---------------+---------------+---------------------+------------+
| Accton | AS4224-52T  | AC3X | 2.0.0-v3.0.0-rc4 | U-Boot 2019.10-10.0.0-g9518192 |               |               | 5.10.4              | R0A        |
+--------+-------------+------+------------------+--------------------------------+---------------+---------------+---------------------+------------+

None

+---------------------------------------+
|              PDU Settings             |
+----------------+-------------+--------+
| Connect_To_PDU | ip_address  | outlet |
+----------------+-------------+--------+
| True           | 10.5.236.19 | 11     |
+----------------+-------------+--------+

None
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                                                                            Test Steps Summary                                                                           |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| Step | Iteration | Iteration Info | Description                                                                                          | Result | Run Time            |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 1    | 0         |                | Initiate test params                                                                                 | Passed | 0.0                 |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 2    | 0         |                | Set link up on interfaces                                                                            | Passed | 0.6052861213684082  |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 3    | 0         |                | Set IP forwarding = 1                                                                                | Passed | 0.20181536674499512 |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 4    | 0         |                | Configure ip 1.1.1.1 on first TGDutLink DUT port, 2.2.2.2 on second TGDutLink DUT port, 3.3.3.3 on   | Passed | 0.8076448440551758  |
|      |           |                | third TGDutLink DUT port and configure route of 10.1.1.0 via 3.3.3.4                                 |        |                     |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 5    | 0         |                | Configure hosts on Ixia ports                                                                        | Passed | 91.40130615234375   |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 6    | 0         |                | Create ingress qdisc                                                                                 | Passed | 0.4047815799713135  |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 7    | 0         |                | Create rule: protocol ip src_ip 1.1.1.2 dst_ip 10.1.1.1 action trap action trap                      | Passed | 0.0                 |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 9    | 0         |                | Verify matched traffic was trapped                                                                   | Passed | 2.414633274078369   |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 10   | 0         |                | Set up stream that do not match the rules and send traffic                                           | Passed | 0.0                 |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 10   | 1         |                | Set up stream that do not match the rules and send traffic                                           | Passed | 23.642372608184814  |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 11   | 1         |                | Verify no unmatched traffic was trapped                                                              | Passed | 0.0                 |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 7    | 1         |                | Create rule: protocol ip src_ip 2.2.2.3 dst_ip 10.1.1.2 action trap action trap                      | Passed | 0.0                 |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 9    | 1         |                | Verify matched traffic was trapped                                                                   | Passed | 0.0                 |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 10   | 2         |                | Set up stream that do not match the rules and send traffic                                           | Passed | 0.0                 |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 10   | 3         |                | Set up stream that do not match the rules and send traffic                                           | Passed | 23.60150170326233   |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
| 11   | 3         |                | Verify no unmatched traffic was trapped                                                              | Passed | 20.600950002670288  |
+------+-----------+----------------+------------------------------------------------------------------------------------------------------+--------+---------------------+
+-----------------------------------------------------------------------------------------------------------------------+
|                                                    Test Information                                                   |
+------------+--------------------------------------------+--------+-----------------+-----------------+----------------+
| Suite_Name | Test_Name                                  | Result | start_time      | end_time        | run_time       |
+------------+--------------------------------------------+--------+-----------------+-----------------+----------------+
| ACL        | Acl_Func_Ipv4_RawUntagged_SharedBlock_Trap | Passed | 18:23:09.008200 | 18:26:45.459345 | 0:03:36.451145 |
+------------+--------------------------------------------+--------+-----------------+-----------------+----------------+</pre></td>
</tr>

</tbody></table></div>
</body>
<script>
    $.fn.dataTable.ext.search.push(
        function( settings, data, dataIndex ) {
            let minIndex = severities.indexOf($('#min-severity').find(':selected').text());
            let maxIndex = severities.indexOf($('#max-severity').find(':selected').text());
            var severity = data[1] || 'NOT SET';// use data for the Log Level column
            var severityIndex = severities.indexOf(severity);
            if ( ( maxIndex == -1 && minIndex == -1 ) ||
                 ( minIndex <= severityIndex && severityIndex <= maxIndex ) )
            {
                return true;
            }
            return false;
        }
    );
    
    function fill_select(id, items){
        for(t of items){
            $('#'+id).append(new Option(t, t));
        }
    }
    
    function selectionChanged(selectChanged, selectAffected, selectedOption, startFrom, end){
        let selected = $('#'+selectAffected).find(':selected').text(); //keep affected value
        $('#'+selectAffected).empty(); //empty the affected one

        fill_select(selectAffected, severities.slice(startFrom, end));
        selected = $('#'+selectAffected).find("option:contains('" + selected  + "')").length > 0 ? selected : $("#"+selectAffected+" option:first").val();
        $('#'+selectAffected).val(selected);
    }
    
    var severities = ['NOT SET','TRACE','DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL']
    $(document).ready(function() {
        for(severity of severities){
            $('#min-severity, #max-severity').append(new Option(severity, severity));
        }
        
        $('#max-severity option:last').attr('selected', 'selected');
        
        var table = $('#data_table').DataTable({
            "lengthMenu": [[-1, 10, 25, 50], ["All", 10, 25, 50]]
        });
        
        $('#min-severity, #max-severity').change( function(e) {
            if(e.target.id == 'min-severity'){
                selectionChanged(e.target.id, 'max-severity', e.target.selectedOptions[0].text, severities.indexOf(e.target.selectedOptions[0].text), severities.length+1);
            }
            else if(e.target.id == 'max-severity'){
                selectionChanged(e.target.id, 'min-severity',e.target.selectedOptions[0].text, 0 ,severities.indexOf(e.target.selectedOptions[0].text) + 1);
            }
            table.draw();
        } );
    } );
    
    
</script>
</html>
