<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>2_2_HardwareReload_17-04-51-573346 Log</title>
<!-- Latest compiled and minified CSS -->
<!--
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs-3.3.7/jq-3.2.1/jq-3.2.1/dt-1.10.16/datatables.min.css"/>

<script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jq-3.2.1/jq-3.2.1/dt-1.10.16/datatables.min.js"></script>
-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
  
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
<style>
pre {
margin : 0;
white-space: pre-wrap;
background-color: inherit;
border: none;
border-radius: inherit;
}
</style>
</head>

<body>
<div class="col-md-12 col-xs-12 col-lg-12">
<br>
<h1 style="text-align:center">2_2_HardwareReload_17-04-51-573346 Log</h1>
<br>
<div class="input-group">
    <select class="form-control" id="min-severity" placeholder="Min Severity">
    </select>
    <span class="input-group-addon">-</span>
    <select class="form-control" id="max-severity" placeholder="Max Severity">
    </select>
</div>
&nbsp
<table id="data_table" class="table table-striped table-bordered" cellspacing="0">
<thead>
    <tr>
        <th style="width: 180px;">Time</th>
        <th style="width: 90px;">Log Level</th>
        <th>Message</th>
    </tr>
</thead>
<tbody>

<tr class="success">
<td>2021-09-03 17:04:51,574</td>
<td>TRACE</td>
<td><pre>BaseTest_SD::_BasicTestInit: this test has been launched with the following input arguments:
Namespace(conn_table=None, dummy_test=False, excel_path='/swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_23.xlsx', excel_setups_db_path=None, seed=None, setup_info=None, setup_name=None, stress=None, test_args=None)</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:04:51,574</td>
<td>TRACE</td>
<td><pre>BaseTest_SD::_BasicTestInit: this test is running from the following Setup Excel file /swdev/fileril103/testing/Projects/Automation/Python/Setups/AGO/CI/Setup_23.xlsx</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:04:52,434</td>
<td>DEBUG</td>
<td><pre>BaseTest_SD::stressCpus: </pre></td>
</tr>


<tr>
<td width="100"></td>
<td width="100"></td>
<td class="info"><pre>+--------------------------------------------------------------------------------------------------------------------------------+
|                                                        Test Description                                                        |
+------------+--------------------+------------------------------------------------------+-------------+-------------------------+
| Suite Name | Test Name          | Purpose                                              | Author      | Test Document Reference |
+------------+--------------------+------------------------------------------------------+-------------+-------------------------+
| Platform   | 2_2_HardwareReload | This test comes to verify:                           | Maya Peretz |                         |
|            |                    |             * Device Stability under Hardware reboot |             |                         |
|            |                    |                                                      |             |                         |
+------------+--------------------+------------------------------------------------------+-------------+-------------------------+

+----------------------------------------------------------+
|                      Test Procedure                      |
+------+---------------------------------------------------+
| Step | Step Description                                  |
+------+---------------------------------------------------+
| 1    | Send reload command.                              |
+------+---------------------------------------------------+
| 2    | Send ping to the device till a reply is received. |
+------+---------------------------------------------------+
| 3    | Verify the login prompt appears                   |
+------+---------------------------------------------------+</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 17:04:52,436</td>
<td>INFO</td>
<td><pre>Executing step 1: Send reload command.</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 17:04:52,437</td>
<td>INFO</td>
<td><pre>Executing step 2: Send ping to the device till a reply is received.</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 17:04:52,437</td>
<td>INFO</td>
<td><pre>Executing step 3: Verify the login prompt appears</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:04:52,437</td>
<td>DEBUG</td>
<td><pre>PduSocket_SNMP::reboot: Action 'Reboot' requested for PDU 10.5.236.19 socket#11 (CI_S23_AC3X_Accton_Func)
</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:06:13,778</td>
<td>TRACE</td>
<td><pre>SwitchDevDutManager::login: Connecting to 10.5.236.85:root:22 ...</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:06:13,918</td>
<td>TRACE</td>
<td><pre>SwitchDevDutManager::login: Connection Successful</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:06:13,919</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "

"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:06:14,020</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: Linux localhost 5.10.4 #1 SMP PREEMPT Tue Aug 31 15:40:33 UTC 2021 aarch64
Last login: Fri Sep  3 07:47:37 2021 from 10.5.116.193


root@localhost:~# 
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:06:15,022</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "

"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:06:15,122</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: 
root@localhost:~# 
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 17:06:15,123</td>
<td>INFO</td>
<td><pre>SwitchDevDutManager::reboot: Waiting 30s after power cycle to give CPSS time for init</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:06:46,255</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern:  ==&#62CMD: "ifconfig  -a | grep -Eo "sw1p[0-9]+" | wc -l
"</pre></td>
</tr>


<tr class="success">
<td>2021-09-03 17:06:46,356</td>
<td>TRACE</td>
<td><pre>PyComWrapper::SendCommandAndWaitForPattern: ifconfig  -a | grep -Eo "sw1p[0-9]+" | wc -l
52
root@localhost:~# </pre></td>
</tr>


<tr class="info">
<td>2021-09-03 17:06:46,357</td>
<td>INFO</td>
<td><pre>Test Passed</pre></td>
</tr>


<tr class="info">
<td>2021-09-03 17:06:46,363</td>
<td>INFO</td>
<td><pre>


+-----------------------------------------------------------------------------------------------------------------------------------+
|                                                          Dut Information                                                          |
+--------+-------------+------+------------------+---------------+---------------+---------------+---------------------+------------+
| ODM    | Board_Model | ASIC | Software_Version | UBOOT_Version | Linux_Version | CPU_CoreClock | Host_kernel_version | PCBVersion |
+--------+-------------+------+------------------+---------------+---------------+---------------+---------------------+------------+
| Accton | AS4224-52T  | AC3X |                  |               |               |               |                     | R0A        |
+--------+-------------+------+------------------+---------------+---------------+---------------+---------------------+------------+

None

+---------------------------------------+
|              PDU Settings             |
+----------------+-------------+--------+
| Connect_To_PDU | ip_address  | outlet |
+----------------+-------------+--------+
| True           | 10.5.236.19 | 11     |
+----------------+-------------+--------+

None
+--------------------------------------------------------------------------------------------+
|                                     Test Steps Summary                                     |
+------+---------------------------------------------------+--------+------------------------+
| Step | Description                                       | Result | Run Time               |
+------+---------------------------------------------------+--------+------------------------+
| 1    | Send reload command.                              | Passed | 0.0                    |
+------+---------------------------------------------------+--------+------------------------+
| 2    | Send ping to the device till a reply is received. | Passed | 0.00013947486877441406 |
+------+---------------------------------------------------+--------+------------------------+
| 3    | Verify the login prompt appears                   | Passed | 113.9200267791748      |
+------+---------------------------------------------------+--------+------------------------+
+-----------------------------------------------------------------------------------------------+
|                                        Test Information                                       |
+------------+--------------------+--------+-----------------+-----------------+----------------+
| Suite_Name | Test_Name          | Result | start_time      | end_time        | run_time       |
+------------+--------------------+--------+-----------------+-----------------+----------------+
| Platform   | 2_2_HardwareReload | Passed | 17:04:51.573208 | 17:06:46.357526 | 0:01:54.784318 |
+------------+--------------------+--------+-----------------+-----------------+----------------+</pre></td>
</tr>

</tbody></table></div>
</body>
<script>
    $.fn.dataTable.ext.search.push(
        function( settings, data, dataIndex ) {
            let minIndex = severities.indexOf($('#min-severity').find(':selected').text());
            let maxIndex = severities.indexOf($('#max-severity').find(':selected').text());
            var severity = data[1] || 'NOT SET';// use data for the Log Level column
            var severityIndex = severities.indexOf(severity);
            if ( ( maxIndex == -1 && minIndex == -1 ) ||
                 ( minIndex <= severityIndex && severityIndex <= maxIndex ) )
            {
                return true;
            }
            return false;
        }
    );
    
    function fill_select(id, items){
        for(t of items){
            $('#'+id).append(new Option(t, t));
        }
    }
    
    function selectionChanged(selectChanged, selectAffected, selectedOption, startFrom, end){
        let selected = $('#'+selectAffected).find(':selected').text(); //keep affected value
        $('#'+selectAffected).empty(); //empty the affected one

        fill_select(selectAffected, severities.slice(startFrom, end));
        selected = $('#'+selectAffected).find("option:contains('" + selected  + "')").length > 0 ? selected : $("#"+selectAffected+" option:first").val();
        $('#'+selectAffected).val(selected);
    }
    
    var severities = ['NOT SET','TRACE','DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL']
    $(document).ready(function() {
        for(severity of severities){
            $('#min-severity, #max-severity').append(new Option(severity, severity));
        }
        
        $('#max-severity option:last').attr('selected', 'selected');
        
        var table = $('#data_table').DataTable({
            "lengthMenu": [[-1, 10, 25, 50], ["All", 10, 25, 50]]
        });
        
        $('#min-severity, #max-severity').change( function(e) {
            if(e.target.id == 'min-severity'){
                selectionChanged(e.target.id, 'max-severity', e.target.selectedOptions[0].text, severities.indexOf(e.target.selectedOptions[0].text), severities.length+1);
            }
            else if(e.target.id == 'max-severity'){
                selectionChanged(e.target.id, 'min-severity',e.target.selectedOptions[0].text, 0 ,severities.indexOf(e.target.selectedOptions[0].text) + 1);
            }
            table.draw();
        } );
    } );
    
    
</script>
</html>
